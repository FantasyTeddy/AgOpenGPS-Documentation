{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to AgOpenGPS","text":"<p>There are 2 main places for AgOpenGPS - Program Software and Hardware with Firmware:</p>"},{"location":"#software","title":"Software:","text":"<p>The Main Repository</p> <p>Download the Software</p> <p>How to install and run AgOpenGPS</p> <p>Rate Control by David Cox</p> <p>AOG Video Training</p> <p>AOG Downloadable video training</p> <p>Change Log</p>"},{"location":"#hardware","title":"Hardware:","text":"<p>The Main Hardware and Firmware Repository</p> <p>Detailed Wiki and Information on Hardware and Firmware</p>"},{"location":"#discussion-and-help","title":"Discussion and Help:","text":"<p>AgOpenGPS Discourse Forum</p> <p>Telegram AgOpenGPS International Group</p>"},{"location":"#frequently-asked-questions-problems-solutions","title":"Frequently asked questions / problems &amp; solutions","text":""},{"location":"hardware/02-Build-Version-2-Steer-Board/","title":"Brians old board","text":""},{"location":"hardware/02-Build-Version-2-Steer-Board/#brian-tischlers-pcb-v2","title":"Brian Tischlers PCB v2.","text":"<p>For having the best experience you should make a PCB with all the necessary components for start. I truly understand that a lot of people never touched a soldering station and never did something with electronics. I can tell you it's pretty simple and with good information here, in the PCB drawing and help from some other contributors you will also accomplish it. </p> <p>Here are some Video's how to create your own PCB.</p> <p>Creating PCB v2 (Wilbert Talen)</p> <p>Creating PCB v2 (Darren Lobb)</p> <p>To get your own PCB, download the gerber and go to jlcpcb.com You can upload the complete zipfile to the site. After that you can order it and it will be send out to anywhere in the world. Minimum pieces is 5, so you got some spares if you accidentally destroy one.</p> <p>The zipfile also contains a BOM list (build of Material) that you can use at Digikey to order all the parts you need. You can also order it at different stores by using that list. </p>"},{"location":"hardware/02-Build-Version-2-Steer-Board/#never-use-aliexpress-mma-or-bno-devices","title":"NEVER USE ALIEXPRESS MMA OR BNO DEVICES","text":"<p>I can't tell it too much but those are bad copies from the orginal board. It will only give you lots of problems and headache. </p>"},{"location":"hardware/02-Build-Version-2-Steer-Board/#gnss-device","title":"GNSS Device","text":""},{"location":"hardware/02-Build-Version-2-Steer-Board/#what-is-it-gnss-or-gps","title":"What is it, GNSS or GPS..","text":"<p>Well, GNSS stands for Global Navigation Satellite System. It's the Collective name for multi GNSS Satellites like GPS, Glonass, Galileo, Beidou and QZSS. Mostly everyone calls his system a GPS Autosteer System but GPS is the American Satellite system. That's where the confusion often comes from.</p> <p>The systems work with NMEA strings (data that came from GNSS receivers with actual position, ground speed, heading, and so on.) So, to know where your tractor is you need one. Most used currently are Ardusimple's SimpleRTK2B F9P receiver boards. They are very good and low priced multi GNSS receivers and also RTK ready. For a good auto steer system you need very high accuracy. with rtk corrections fed into the SimpleRTK2b board it can get to a &lt;2cm precision. I tell more about that in the NTRIP/RTK page.</p>"},{"location":"hardware/02-Build-Version-2-Steer-Board/#ready-for-fertilize","title":"Ready for fertilize","text":"<p>For only doing fertilize or spray you're good to go with a GNSS device and a Tablet. You can create fields with boundaries in the software, and create some Guidance lines. In this state you can use it as a Visual Guidance system for spraying or fertilize.  Also want to drive autonomously? Keep reading!</p>"},{"location":"hardware/02-Build-Version-2-Steer-Board/#was-wheel-angle-sensor","title":"WAS (Wheel Angle Sensor)","text":"<p>The software needs your location, but for autosteerring the software also needs to know at which angle your steerings wheel currently are. Here's a list for a few Sensors that might be good for you.</p> <p>Delphi ER100031</p>"},{"location":"hardware/3dprints/","title":"Here's a list of some cool 3D prints you might find useful","text":""},{"location":"hardware/3dprints/#3d-print-for-steering-for-cvtcvx-httpswwwthingiversecomthing6361474","title":"3d print for steering for CVT/CVX  https://www.thingiverse.com/thing:6361474","text":"<p>3D printable RQH100030 holder</p> <p></p> <p>Various Ardusimple RTK mounts </p> <p>RPI4 and Sparkfun F9P case</p> <p></p>"},{"location":"hardware/3dprints/#holder-for-bno085-outside-aio-board-for-mounting-separately","title":"Holder for BNO085 outside AIO board (for mounting separately)","text":"<p>https://github.com/lansalot/AgOpenGPS-Tools/blob/main/STLs/bnorvclid.stl</p> <p>https://github.com/lansalot/AgOpenGPS-Tools/blob/main/STLs/bnorvcbase.stl</p>"},{"location":"hardware/3dprints/#quick-transfer-unit-for-antenna","title":"Quick transfer unit for antenna","text":"<p>https://www.thingiverse.com/thing:5182231</p>"},{"location":"hardware/3dprints/#some-great-stls-on-the-french-aog-wiki","title":"Some great STLs on the French AOG wiki","text":"<p>https://www.aogwiki.fr/doku.php?id=fichiers_stl</p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/","title":"Ampseal-Wiring-Harness example","text":"<p>For the actual pinout see here</p> <p>A crimping tool: Yato YT-2255</p> <p>Let's build a wiring harness that will look like this: </p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#shopping-list","title":"Shopping list","text":"<p>For this we need: * Ampseal 23 female connector + Tail sheath https://www.aliexpress.com/item/10000383252937.html * For test bench or in case you're not fan of crimping you can get Ampseal assembled https://www.aliexpress.com/item/1005004890887135.html * Fuse holder: https://www.aliexpress.com/item/1005005014786356.html * We also added an extra male + female just in case you want to be able to take it apart under the cab https://www.aliexpress.com/item/10000357094249.html * Main Switch with GPS logo: https://www.aliexpress.com/item/1005002668770185.html (Get the switch + plug and maybe a holder depending on your tractor Number 30 is the GPS logo (always double check!) * Connector for the motor: https://www.aliexpress.com/item/10000298353276.html (it comes with pins that you can crimp with a normal crimper) * Steering: https://www.aliexpress.com/item/4000306602294.html (16mm, Momentary Reset + get the socket too!)  put a note for C02 that's heated steering (always double check!) * Some braiding: https://www.aliexpress.com/item/33046800962.html (16mm will do) * Shrink tube: https://www.aliexpress.com/item/1005003700916035.html (16mm for braiding  + maybe 4 and 8mm)</p> <ul> <li>Connector for the wheel angle sensor of your choice take a look around at this shop</li> </ul>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#wire","title":"Wire","text":"<p>Above cable uses YSLY-JZ cable that is heat and oil resistant We'll need: * 3 wire that is 6meters for the Wheel angle sensor (0.5mm2 is fine that's 20AWG) * 2-5 wire that is 2 meters for the push button and some spare for hydraulic lift, work switch, etc (0.5mm2 / 20AWG) * 2 wire that is 3,5meters for the motor (0.75 - 1mm2 that's 19-18AWG) * 2 wire that is 1+ meters for the main power input (same as above) * 3 wire that is 2 meters for the main switch (same as above)</p> <p>Please note that Hydraulic steering will require extra wires: Lock pin 2 wires + pressure sensor 2 wires + maybe dedicated 12V for the automotive relay.</p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#assembly","title":"Assembly","text":"<p>Crimp and assemble according to the Pinout</p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#ampseal-23","title":"AMPSEAL 23","text":"<p>Here's the official video and here's some step by step video Things to watch out for: * The crimped area can't be bigger than the connector itself as it has to go quite deep (try to get a quality crimper choose the head accordingly) * It has to click when pushed in and from the front it has to be almost flush * You can disassemble it if that makes it easier</p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#main-switch","title":"Main switch","text":"pin1 pin2 ground ground NC NC NC 12V In Backlight 12V Out"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#push-button","title":"Push button","text":"<p>The middle and one of the outer wires can act as either an NO / NC. Choose the one that connects the wires when pressed. 1 goes steerpin 1 goes ground.</p>"},{"location":"hardware/AIO--Ampseal-Wiring-Harness/#validation","title":"Validation","text":"<p>Add 12V power to the wiring harness Turn on the main switch -&gt; does the logo light up?</p> <p>Connect your sensors, etc and test it in your desk with a spare board</p>"},{"location":"hardware/AIO-Board-Pinout/","title":"Ampseal 23 pinout","text":"<p>So, you'll be needing some Ampseal connectors. Please note that ground pins of 4,21,23 are common and shared, thus they can be interchanged.</p> Component Pin Description Battery + 22 +12v in, use the appropriate fuse! Battery - 23 (4,21) Ground WAS 5V 1 5V output for Wheel Angle Sensor WAS GND 4 (21,23) Ground for WAS WAS Low 3 Used for the Differential setup in AgOpenGPS WAS High 2 Used for Single with GND and Differential with WAS Low Steerswitch 8 Can be used with a switch or a button to have a physical button to enable / disable autosteer. Basically it allows to disable the steering. Has to be connected to ground. (4,21,23) Workswitch 9 Can be used to turn sections on / off. Has to be connected to ground. (4,21,23) Remote/Pressure 10 Used for pressure sensor in valves or encoder in motor. Ground: (4,21,23) Left 5 Power output for motor / valves (Danfoss Signal) Right/Lock 6 Power output for motor / valves (Lock was only available on AIO boards v2.5 and lower since V4 board lock is no more present) Lock 7 Switched 12V output when autosteer is enabled. Can be used to activate the hydraulic valve through a relay or power Danfoss valve. CanH1 16 Can High for channel 1 CanL1 17 Can Low for channel 1 Speed + 14 Output speed pulse + Speed - 15 Output speed pulse - A12 11 !Use at your own risk! Unprotected connection to Teensy pin A12 A13 12 !Use at your own risk! Unprotected connection to Teensy pin A13 A14 13 !Use at your own risk! Unprotected connection to Teensy pin A14 +12v out 20 12V output (use it only for limited load maximum 1A) V2 board: CanH2 18 Can High for channel 2 CanL2 19 Can Low for channel 2 V4 board: Cytron  IN 18 V4 board: Cytron Input (up to 10A fuse) 12/24V NC 19 NC <p></p> <p>example for motor with external freewheel mod: </p>"},{"location":"hardware/AIO-other-pieces/","title":"Other pieces to be able to assemble","text":"<p>So you've ordered your AIO board but want to fully assemble it.</p> <p>The main pieces will likely be:  * Teensy 4.1 a.k.a the brain of the board  * IMU for roll compensation  * GNSS / GPS - ZED-F9P  * Cytron MD13S driver</p> <p>You'll likely also need: * some standard 2.54mm header pins between the components and the board e.g.: aliexpress or botland  * A few (2-4 per board) jumpers e.g.: aliexpress or botland * Teensy requires 2x3 header that's size 2mm: digikey or botland * Between Teensy and the Board you need the 2x3 connector: digikey * Ampseal 23 board connector: https://www.aliexpress.com/item/10000383252937.html * Standard GPS module requires a 30cm extender as well: https://www.aliexpress.com/item/1005003193091912.html (No 13. 30cm at the time of writing but compare it to the picture.)</p> <p></p> <ul> <li>A crimping tool: Yato YT-2255</li> </ul> <p>Enclosure: 3D print / electrical box / Hammond enclosure. Designs are available in the repo.</p> <p>And that should be good enough for the board itself.</p>"},{"location":"hardware/CANBUS/","title":"CANBUS","text":"<p>CommonRail has written a superb guide on how to investigate the CANbus on your system - give it a good read!</p> <p>https://discourse.agopengps.com/t/canbus-for-beginners-super-simple/3814/884</p> <p>https://discourse.agopengps.com/c/hardware/canbus/33</p> <p>Here's a success story using the AIO and CANBUS to control an MF 6718S</p> <p>The Teensy has 3 CANBUS receivers on it, but you still need transceivers. The AIO 2.4 board has space for 2 transceivers and the 4.x boards have space for 1. The part you're looking for is https://www.mouser.co.uk/ProductDetail/579-MCP2562T-E-SN</p> <p>These are absolutely tiny and you'll be soldering them on here most likely:</p> <p></p> <p>CommonRail has an excellent resource including the code you need here on how to learn about CANBUS, and control your machine with it.</p> <p>CAN connector pinout:</p> <p></p> <p>Massey Ferguson - steer bus location:</p> <p></p> <p>Fendt (V-Bus is for steering):</p> <p></p> <p></p> <p>If you want to learn how to sniff the CANBUS and find out joystick codes etc, watch this: https://youtu.be/O01Fy4dBw6s</p>"},{"location":"hardware/CablingWiring/","title":"Useful cables and wires","text":"<p>CANBUS: https://www.aliexpress.com/item/1005006314944148.html</p>"},{"location":"hardware/Choosing-an-Antenna/","title":"Choosing an antenna","text":"<p>While Ardusimple offer such things as \"calibrated\" antennas for survey, you don't really need them. You have a choice to go either single or dual antenna - and the below antennas will work just fine.</p> <p></p> <p>https://www.ardusimple.com/product/ann-mb-00-ip67/</p> <p>If you use this type, note that it needs some metal to back-reflect off of. A piece of metal around the size of a DVD is about right. Ardusimple even sell one, here: https://www.ardusimple.com/product/ground-plate-for-gnss-antenna/</p> <p></p> <p>Being not-bright-green-and-yellow, they hide on the roof of your machine really well. And they're that cheap, they're not even worth stealing. Can't quite say the same about your FireStarters, eh...!</p> <p>These are also a great option, tho a bit more expensive and visible.</p> <p>https://www.ardusimple.com/product/survey-gnss-multiband-antenna/</p> <p></p>"},{"location":"hardware/Configuring-The-Teensy/","title":"Configuring the Teensy","text":""},{"location":"hardware/Configuring-The-Teensy/#uploading-the-code-the-hopefully-easiest-way","title":"Uploading the code (the hopefully-easiest way!)","text":"<p>Go here and check out this AOG Teensy flashing tool, that will provide the firmware and everything for you. All you should have to do is click two buttons. It provides a simple way to pick and choose firmwares for you, and could save you having to look through folders for the correct one for your use case.</p> <p></p> <p>It will also configure the ublox F9P for you, so give it a try!</p>"},{"location":"hardware/Configuring-The-Teensy/#uploading-the-code-the-next-easiest-way","title":"Uploading the code (the next-easiest way)","text":"<p>Download the hex file (this is the compiled software) and the program to load it to the Teensy, from the repository: https://github.com/AgHardware/Boards/tree/main/TeensyModules/AIO%20Micro%20v4/Firmware</p> <p></p> <p>Run the TeensyLoader app:</p> <p></p> <p>and then select File, Open Hex, and open the hex file you downloaded.</p> <p></p> <p>Now would be a great time to plug the Teensy in - if this is the first time this Teensy has been connected, it might well install some drivers, so give it a moment to settle. When all is calm, press the green button to flash it. You might have to press the white button on the Teensy too if nothing happens, to allow the Teensy to pull the image down (generally, you only have to do this the first time you flash it tho).</p> <p></p> <p>Takes just a moment, then you're done!</p>"},{"location":"hardware/Configuring-The-Teensy/#but-some-people-like-a-challenge-so-heres-the-hard-way-and-before-you-go-any-further-dont-plug-the-teensy-in-just-yet","title":"But, some people like a challenge, so here's the hard way - and before you go any further, don't plug the Teensy in just yet!","text":"<p>Retrieve the code and unzip it.</p>"},{"location":"hardware/Configuring-The-Teensy/#note-it-may-be-version-55-57-571-whatever-is-in-the-support-folder-go-with-the-latest-thats-there","title":"NOTE: it may be version 5.5, 5.7, 5.7.1 whatever is in the support folder. Go with the latest that's there!","text":"<p>You will need: * Arduino IDE 1.8.x (legacy version). Version 2 has some issues occasionally, so don't use that * TeensyDuino - use 1.5.7, this is known to work. Newer versions will cause the Teensy to constantly reboot once flashed, that's no use.</p> <p></p> <p>Your downloads folder will likely look something like this:</p> <p></p> <p>And while you're at it, right-click on the ZIP file with the code from Github, and do Extract All. Accept the default locations.</p> <p>Grab the Arduino IDE from the link above and install it. Accept all the default during the installation. If you get asked to install device software or other drivers, agree:</p> <p> </p> <p>Once that's done, install TeensyDuino.</p> <p> </p> <p>It should find your Arduino IDE (you did accept the defaults, didn't you?) so accept that:</p> <p></p> <p>Who likes a good library? You do! Install them!</p> <p></p> <p>And when it's done, you'll see something like this:</p> <p></p> <p>You can plug your Teensy in now over USB - and make sure it is removed from the Panda or All-in-one-boards!!</p> <p>Now would be a great time to make sure the drivers are OK. Right-click on your Start menu (or long-press the start menu if you're on a touch-screen), and pick Device Manager.</p> <p></p> <p>Find the Ports (COM &amp; LPT) section, and open it. Your Teensy should be there, without any red crosses or exclamation marks beside it. Note that your port number, in this case COM3, will likely be different. Remember that number, it's important. Also, to aid in identification, make sure you don't have any other devices plugged in that might be assigning COM ports (eg, your ZED-F9P modules):</p> <p></p> <p>Then, you're going to load the software to your Teensy. Start the Arduino IDE. If you see any messages like this, select \"Allow Access\":</p> <p></p> <p>It'll come up with an empty \"sketch\", but we don't care about that. File, Open and find your way down into the files you extracted:</p> <p></p> <p>Once you've found that folder, pick the file shown (it will be named the same as the folder - and the version might well be different if a new one is released and this wiki page hasn't been updated):</p> <p></p> <p>Another instance of the Arduino IDE will open (you can close the empty one), and now we're just about ready to send it to the Teensy. However, despite having the IDE and TeensyDuino installed, the Arduino software doesn't actually exactly what model of Teensy you have (it might have guessed it right, it might not), so we need to check some items on the Tools menu. The first to pick is the board, so go make sure 4.1 is picked.</p> <p></p> <p>You might notice when you return to the Tools menu, that there are more options on there now that weren't there before. Don't worry about that.</p> <p>We can lower the speed to 450mhz which will keep the chip a little cooler with no ill effect:</p> <p></p> <p>There will likely be a choice for the Port, so make sure you've the one that says Teensy 4.1 picked and ticked:</p> <p></p> <p>Now the exciting part - you're a software developer for the next few minutes. Click the second icon on the toolbar, the Right-arrow, and all being well, it should compile it and send it to the Teensy! Depending how decent your computer is, this may take anything from a couple of seconds to a couple of minutes. Watch the green progress bar down the bottom:</p> <p></p> <p></p> <p>You might notice a couple of warnings - ignore those. Red text means something has gone wrong tho, in which case paste a screenshot or the text in Discourse/Telegram and ask for help.</p> <p></p> <p>The Teensy flasher (ahem) might pop up and ask you to press a button the Teensy - that's the big white button if so - but it might well just crack on and flash it for you. Watch for the flashing red lights on the Teensy. And then when it's finished... nothing. Silence. Just that screen, and no lights on the Teensy (the reason it was likely flashing when you plugged it in for the first time is it was running what's known as the \"blink sketch\" - code that does nothing more than flash the little LED).</p> <p>So, how do we know it's working? We go to the monitor!</p> <p></p> <p>It's likely saying something like this:</p> <p></p> <p>And congratulations - your Teensy is now running the AgIO code! You can put it back in either the Panda board, or your all-in-one board now!</p> <p>(Sorry tho, that's possibly your software developing days over)</p>"},{"location":"hardware/Configuring-The-Teensy/#problems","title":"Problems","text":"<p>I got weird red message in text! Help!</p> <p></p> <p>First thing to do is CHECK YOUR MODEL! If it's not set to Teensy 4.1, it won't work. And every wrong model will likely throw you a different message. Go back above and set it properly.</p>"},{"location":"hardware/Configuring-The-Teensy/#i-flashed-it-according-to-instructions-but-it-keeps-making-the-usb-disconnect-noise-and-rebooting","title":"I flashed it according to instructions, but it keeps making the USB disconnect noise and rebooting?","text":"<p>Yeah, TeensyDuino versions other than 1.57 will cause that. Use the easy method above to skip all that grief, or make sure you are using the correct versions as described in the instructions.</p>"},{"location":"hardware/Danfoss/","title":"Danfoss valves","text":"<p>The original Danfoss solution was a 3-wire installation.</p> <p>The danfoss valve was the original integrated autosteer valve. They\u2019ve been used by Deere, Agco, CNH, etc.</p> <p>It would have been the easiest way for a tractor manufacturer to add an autosteer valve, the valve is built right into the steer motor. No additional plumbing is required. If you have one of these, you do not need a Cytron, but your board must have the TC4227 (PCB4.1) chip installed. JLCPCB will fit these to version 4 builds if they're in stock at time of ordering them.</p> <p>Instead of sending a typical left or right PWM signal down separate channels, what they do instead is energise (or unlock) the Danfoss with the right channel and send a varying PWM signal down the left channel, where 50% is straight ahead, approx 15-25% is full left and 75-85% is full right (this is part of the safety systems to prevent shorts and such like causing unintended movement). Saying it again, the LEFT output therefore steers both left and right. Gnd must also be supplied of course. You should not power the lock via a relay, but drive from the board.</p> <p></p> <p></p> <p>To use this configuration, your machine must have this kind of valve, you need the chip on the board and you need the jumpers positioned on the board at (picture).</p> <p></p> <p>Sample Danfoss plug guide, but check with your module!!</p> <p></p>"},{"location":"hardware/Danfoss/#identifying-a-danfoss-valve","title":"Identifying a Danfoss valve","text":"<p>You can find the 4-pin connector on the Connectors page</p>"},{"location":"hardware/Enclosures/","title":"Looking to print your own 3D case? Maybe you can find one you like here:","text":""},{"location":"hardware/Enclosures/#pcbv4","title":"PCBv4","text":""},{"location":"hardware/Enclosures/#all-in-one-micro","title":"All-In-One (Micro)","text":"<p>Vili: https://discourse.agopengps.com/t/all-in-one-pcb/10444/5 </p>"},{"location":"hardware/Enclosures/#all-in-one-standard","title":"All-In-One (Standard)","text":"<p>https://discourse.agopengps.com/t/all-in-one-pcb/10444/5 </p> <p>Alternative low-profile Micro enclosure</p> <p>https://cad.onshape.com/documents/2ce126543c19758e3f29edf2/w/d34558ff003526b410ea943b/e/2be4a9e5caed293fb7593442?renderMode=0&amp;uiState=64fddd0654dfbf638e003ad1</p> <p></p>"},{"location":"hardware/Enclosures/#aog-micro-smaller-enclosure","title":"AOG Micro smaller enclosure","text":"<p>https://www.printables.com/model/555540-agopengps-micro-v41-smaller-enclosure</p> <p></p>"},{"location":"hardware/Enclosures/#tonys-canbus-board","title":"Tony's CANBUS board","text":"<p>https://cad.onshape.com/documents/d3f169edb0b22d9a9912c541/w/56a7125e5876a5077e79faad/e/c9152ff253be9915b658e88c</p> <p></p>"},{"location":"hardware/Enclosures/#pcbv2","title":"PCBv2","text":""},{"location":"hardware/Enclosures/#pcbv2panda","title":"PCBv2/PANDA","text":"<p>https://cad.onshape.com/documents/dc3f62615fb1a85d3175d2c0/w/0401663b852958d18d6917ca/e/9c55b48baedf869a35b040a1</p> <p></p>"},{"location":"hardware/Enclosures/#aog-41-std","title":"AOG 4.1 Std","text":"<p>https://www.printables.com/model/587713-enclosure-for-agopengps-pcbv41std-v3</p> <p></p> <p>https://www.printables.com/model/775428-enclosure-for-agopengps-pcbv4xstd-v4 </p>"},{"location":"hardware/Enclosures/#enclosure-for-bno085-for-mounting-outside-your-aio-case","title":"Enclosure for BNO085, for mounting outside your AIO case","text":"<p>https://github.com/lansalot/AgOpenGPS-Tools/tree/main/STLs</p>"},{"location":"hardware/Enclosures/#some-useful-small-cases-for-projects-here","title":"Some useful small cases for projects here:","text":"<p>https://www.gainta.com/en/g302mf.html https://gainta.com/en/g201mf.html</p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/","title":"Motor? Nah - hydraulic please!","text":"<p>This still needs Cytron MD13S :) but we'll move valves instead of motors</p> <p>So, if your system is compatible, you can likely steer it directly without a motor turning the steering wheel.</p> <p>Motor settings are follow:</p> <ul> <li>Proportional gain - depends on the size of the piston:<ul> <li>15 for small tractors</li> <li>40 for the big ones</li> </ul> </li> <li>The maximum Limit maxPWM - depends on the size of the piston 100-180</li> <li>The minimum to move minPWM is 38-40</li> </ul>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#how-to-choose-a-valve","title":"How to choose a valve?","text":"<p>There are a few kind of valves depending on the Orbit installed. These are available in the shop: https://www.agopengps.pl/en/shop-1?currency=EUR</p> <p>Take a look at your Orbitrol:    * 4 hoses then you'll need an OC valve and will be connected between the pump / steer lines.   * 5 hoses will be an LS system and needs an LS valve with \"Tee\" connection and will be connected parallel to the P / T lines and between the LS / steer lines.   * !!! some of the tractors require special valves, for example:      * Fendt (static)      * John Deere 4XXX      * CASE Quadtrack (90L) require special valves !!! Double check on these. </p> <p>The valve flow depends on the tractor size. 150-200HP tractors will likely need 60liter. The forum might have tips from baraki. If unsure add a note about your tractor to the order!</p> <p>https://discourse.agopengps.com/t/hydraulic-valve-assemblies-for-every-tractor-for-every-type-of-hydraulic-system/8011</p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#the-valve-itself","title":"The valve itself:","text":"<p> Engineering drawings: OC</p> <p></p> <p>Explanation: Credit goes to Commonrail</p> <ul> <li> <p>2 is a logic valve, it basically makes a small LS closed centre system inside this valve block for the autosteer. This valve will keep the P line a few bar higher than the internal LS line (in other words a few bar higher than what is needed to operate the wheels at the current time)</p> </li> <li> <p>1 is a relief valve used to limit the maximum pressure for the steering, when this valve is tripped the LS line can\u2019t go any higher and the valve 2 will let the oil out the T port</p> </li> <li> <p>The pressure sensor is connected to the valve block T line, this line is connected to the P port of the orbital and because it is open centre the oil free flows to tank. But when you turn the steering wheel the pressure in this line rises as oil is needed to turn the wheels, because the orbital steering lines are blocked this pressure rises quickly and the sensor trips to tell autosteer to stop steering</p> </li> </ul> <p>LS</p> <p></p> <p>Special valve for Fendt: </p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#installation","title":"Installation","text":"<p>Electrical connection(s)  Theoretically the FET should be capable to handle the power to lock the valve. In practice we've seen smoke in some cases. Best practice is to add a relay controlled by the Lock pin.</p> <p>There are 2 kind of \"pressure\" check valves:</p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#count-type","title":"Count type","text":"<p>The one with 2 pins needs to be connected between Ground and Pres/Rem connection.  The sensor is a SUCO 166 416 0 31 063 NC</p> <p></p> <p>The PCB jumpers must be configured as Remote. </p> <p></p> <p>AgOpenGPS must be configured as \"Turn sensor\" with value as \"1\". (it only clicks once)</p> <p></p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#pressure-type","title":"Pressure type","text":"<p>The one with 3 pins uses an AMP Superseal 3pn 1.5 connector and requires 5V from PCB (WAS 5V could be used). </p> <p>The sensor is: 0606-25209-B-007 Pressure Transmitter  0 bar - 250 bar 0.5-4.5V Ratiometric NPT1/4 AMPSuperseal 1.5 17-4PH Stainless Steel Cell</p> <p></p> <p>The PCB jumpers must be configured as Pressure. </p> <p>AgOpenGPS must be configured as Pressure with value accordingly.(~10% is equivalent as 0bar)</p> <p></p> <p>pinout is:  - pin1 -&gt; signal  - pin2 -&gt; GND  - pin3 -&gt; 5V</p> <p>AgOpenGPS software configuration is explained in detail here</p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#installation-of-ls-valve","title":"Installation of LS valve","text":""},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#installation-of-oc-valve","title":"Installation of OC valve","text":""},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#installation-example","title":"Installation example","text":"<p>Marek (maker of baraki valve) has a great set of pictures here for installation on a Massey 5445</p>"},{"location":"hardware/Hydraulic-steering-with-baraki-valve/#plugs-that-are-of-use","title":"Plugs that are of use","text":"<p>If you have the two-pin plug for left/right solenoids, you can use these (TE part 718-6867)  to connect:</p> <p>https://uk.rs-online.com/web/p/automotive-connectors/7186867</p> <p></p> <p>If you want to use 3-pin plugs for the lock valves that have the schotky diode built in, use these Molex part S28200TC310R):</p> <p></p> <p>https://www.kempstoncontrols.co.uk/S28200TC310R/Molex/sku/457859</p>"},{"location":"hardware/Keya/","title":"KEYA CANBUS motor","text":"<p>You can use this as a guide for installation: https://discourse.agopengps.com/t/keya-canbus-motor-great-success-many-happy-etc/14174</p> <p>https://youtu.be/ANboPyvSWBE</p> <p>To order, the official link for the latest version of the steering wheel - direct from Keya themselves - is here.</p> <p>Keya reference manual:  Keya KY170DD01005-08G v2.4.pdf</p> <p>If you're in Europe you might want to check navisklep.pl They'll supply with the 3 spoked wheel.</p>"},{"location":"hardware/Keya/#links","title":"Links","text":"<p>The full kit: https://www.aliexpress.com/item/1005006800593966.html</p>"},{"location":"hardware/Keya/#additional-parts","title":"Additional parts","text":"<p>Just a steering wheel, no motor: https://www.aliexpress.com/item/1005006723020417.html</p> <p>Adapter type A: https://www.aliexpress.com/item/1005006590788935.html</p> <p>Adapter type D: https://www.aliexpress.com/item/1005006590913968.html</p> <p>Adapter type F: https://www.aliexpress.com/item/1005006591675066.html</p> <p>Adapter type N: https://www.aliexpress.com/item/1005006591480010.html</p> <p>Adapter type NH40: https://www.aliexpress.com/item/1005006591353337.html</p> <p>You need to specify when ordering which steering boss you require (and let them know if you require additional ones). Pay attention to the aliexpress link, the \"View more\" bit will list all the adapter types. NOTE: this list below might be out of date as more models are added, so look for this chart on the aliexpress link!!</p> <p></p> <p></p> <p>Also, there is a newer motor with 12-pin connection but as far as I can see, it doesn't offer much over the 7-pin one at this time, we'll update this document when it's available.</p> <p>Replacement connectors: https://www.aliexpress.com/item/1005002498869200.html</p> <p></p> <p>Connections:</p> <p></p> <p></p> <p>You\u2019ll be powering 12V to pin 1, and GND to pin2 - and don\u2019t power this through the AOG board! Put it on its own supply with a big huge \u201cOFF!\u201d switch for safety.</p> <p>Pin 6 (CANH) goes to pin 16 on ampseal and pin 7 (CANL) goes to pin 17.</p> <p>You\u2019ll need a modified firmware and while the hope is that this eventually goes to mainstream, at the moment it\u2019s still considered as in-testing, so I haven\u2019t submitted a PR to the main branch as yet.</p> <p>You can find my modified firmware here but make life easier by using AOG-Config-O-Matic!</p>"},{"location":"hardware/Keya/#motor-types","title":"Motor types","text":""},{"location":"hardware/Keya/#cables","title":"Cables","text":"<p>7-pin https://www.aliexpress.com/item/1005007135464376.html</p> <p>12-pin https://www.aliexpress.com/item/1005007144678100.html</p>"},{"location":"hardware/Keya/#known-fittings","title":"Known fittings","text":""},{"location":"hardware/Keya/#note-you-should-always-measure-the-diameter-and-count-the-splines-yourself-this-is-for-reference-only","title":"Note - you should ALWAYS measure the diameter and count the splines yourself. This is for reference only.","text":"Type Tractor A Case 5150Case Puma 160Deutz AgrofarmJohn Deere 7x30, 6x30, 6300, 8300Landini 6-115HNH T5.120 B D Deutz 5110 TTVFendt 718 SCR, Favorit 511C F Bateman, Sands, Knight sprayers K N Case MX110Claas AxionFendt 936Massey Ferguson 5413 NH40 NH T5050 T Kubota B3400 W"},{"location":"hardware/Machine-Board/","title":"Machine Board for relay control","text":"<p>Machine boards are basically Arduino Nanos connected via ethernet or USB.</p> <p>You can find the UDP machine board here: https://github.com/AgHardware/Boards/tree/main/ArduinoModules/UDP/Machine_UDP_v5v5</p> <p>To get the UDP working you can find a guide here: https://discourse.agopengps.com/t/setting-up-section-control-in-udp-version-5-6/9918/8</p> <p></p>"},{"location":"hardware/Machineboardguide/","title":"A full guide on how to set up a machine board for section control, over USB","text":"<p>All credit to Andy26 over at TheFarmingForum for writing this up, please view his excellent guide here.</p>"},{"location":"hardware/MiscHardware/","title":"Miscellaneous","text":""},{"location":"hardware/MiscHardware/#5-volt-network-switch","title":"5 volt network switch","text":""},{"location":"hardware/MiscHardware/#12-volt-network-switch","title":"12 volt network switch","text":""},{"location":"hardware/MiscHardware/#teltonik-tsw010-industrial-12v-switch","title":"Teltonik TSW010 - industrial 12V switch","text":"<p>https://wiki.teltonika-networks.com/view/TSW010</p> <p></p>"},{"location":"hardware/MiscHardware/#power-distributution","title":"Power distributution","text":"<p>https://www.amazon.co.uk/dp/B07GYTZF35</p> <p></p> <p>https://www.amazon.co.uk/Kriogor-Motorcycle-Indicator-Headlights-Navigation/dp/B0BVVKJGFR</p> <p></p>"},{"location":"hardware/ProblemsAndSolutions/","title":"\ud83e\udd2c Problems and Solutions","text":""},{"location":"hardware/ProblemsAndSolutions/#got-a-problem-hopefully-youll-find-the-solution-here","title":"Got a problem? Hopefully you'll find the solution here!","text":""},{"location":"hardware/ProblemsAndSolutions/#hardware","title":"Hardware","text":"<ul> <li>U-Center can't update the F9P firmware (TODO)</li> </ul>"},{"location":"hardware/SCAMMERS/","title":"aggps.ca","text":"<p>This lot do nothing other than sell over-priced reconditioned laptops loaded with agopengps. Avoid, and tell your friends.</p>"},{"location":"hardware/TheManual/","title":"\ud83d\ude9c The Manual","text":""},{"location":"hardware/TheManual/#a-guide-to-what-all-the-buttons-are-for","title":"A guide to what all the buttons are for","text":"<p>This is a bit out of date, you are probably better watching the (youtube training videos) instead or download them for a local copy here.</p> <p>In:</p> <ul> <li>English</li> <li>French</li> <li>German</li> <li>Spanish</li> <li>Italian</li> <li>Serbian</li> </ul> <p>Also, the AOG wiki (this is more the hardware side) can be found here</p>"},{"location":"hardware/configuring-the-zed-f9p/","title":"Configuring the Ardusimple F9P (a.k.a U-Blox Zed f9p GPS Receiver) ZED-F9P","text":"<p>Make life easy by using the AOG-Config-O-Matic! Get it here! https://github.com/lansalot/AOGConfigOMatic/releases</p>"},{"location":"hardware/configuring-the-zed-f9p/#but-if-you-want-to-do-it-the-hard-way-or-if-the-above-way-fails","title":"But if you want to do it the hard way (or if the above way fails..)","text":"<p>Common mistakes that you can avoid: * Always use 460,000 baud rate. * Always Save Config.</p>"},{"location":"hardware/configuring-the-zed-f9p/#so-youve-a-selection-of-expensive-hardware-in-front-of-you-what-next","title":"So, you've a selection of expensive hardware in front of you - what next?","text":"<p>Well, before you plug them in, you did do those board checks first, as mentioned here ?</p> <p>First, get the firmware and configuration files here, so go grab them (you can get them all in one zip file here.</p> <p>Unzip them, the 4 text files are the configuration you upload to the F9Ps, and the .bin file is the firmware.</p> <p></p>"},{"location":"hardware/configuring-the-zed-f9p/#u-center","title":"U-Center","text":"<p>Follow this ArduSimple Guide (except step 1, you already have the firmware) on how to perform a firmware upgrade, for which you'll need U-Center v22.07 installed on your PC.  U-Center might need .NET environments. Brute force all-in-one installer * MSVCR120.dll fix * MSVCR140.ddl fix</p>"},{"location":"hardware/configuring-the-zed-f9p/#how-to-connect-the-receiver","title":"How to connect the receiver?","text":"<p>If you're using the Micro F9Ps, the Ag board will need 12V to power it up, and use the micro USB jacks to connect to your PC one at a time! </p> <p>If you're using the Standard F9Ps that have the USB jack on, use the jack at the FRONT next to the antenna connector, not the one at the rear. You can flash the standard ones direct with your PC, you do not need them plugged into the board.</p> <p>On the board, and looking at them from the point of \"antenna jack at the front\", you'll have a LEFT and a RIGHT socket. Plug one of the Micro F9Ps in and And PLUG an antenna in, don't power up the F9P without one. Remember, Micros are powered by the board. It doesn't matter which port you use to flash the firmware/config, but don't get them mixed up afterwards. Note which is which.</p> <p></p> <p>Open U-Center, and connect to your F9P (there should only be one) and it will have picked a COM port number (this is why you do one at a time); In the top left menus, find that COM port and pick a speed of 460800.  </p> <p>If you have multiple COM ports you might need to keep trying util it connects successfully to the GPS receiver.</p>"},{"location":"hardware/configuring-the-zed-f9p/#how-to-upgrade-the-firmware","title":"How to upgrade the firmware?","text":"<p>Download the latest firmware: * v1.32 for single * v1.13 for dual</p> <p>Connect to your receiver.</p> <p>Tools -&gt; Firmware Update</p> <p>Choose Baud Rate of 460,000 </p> <p>Hit Go! at the bottom left wait a minute or two and if there's no error message you're good.</p>"},{"location":"hardware/configuring-the-zed-f9p/#explaining-the-configuration-files","title":"Explaining the configuration files","text":"<p>These GPS modules can be used for multiple purposes. There are some configuration files to assist you. Choose the files according to your needs: * SingleAntenna -&gt; use this when you have only 1 GPS receiver in your system (with or without the AIO board) * DualAntenna -&gt; use these when you have 2 GPS receiver in your system. Don't forget to OFFSET the GPS antenna in AgOpenGPS as 1 antenna is used for the position and the other is for the heading/roll to act like the IMU in single antenna config. Make sure you don't mix up the antennas when installing them on the board. 1.32 firmware has some issues. Roll is not stable it can only do 8Hz so we recommend using 1.13 for Dual. And don't forget to configure the offset for your antenna in AgOpenGPS! * RadioBaseStation -&gt; use this for the RTK base station</p>"},{"location":"hardware/configuring-the-zed-f9p/#how-to-configure","title":"How to Configure?","text":"<p>Open Tools, Receiver Configuration,</p> <p></p> <p>and pick your file  * For single: 1.32 SingleAntennaRover.txt * For dual left socket we need 1.13 DualAntennaHeading_RelPos-Left.txt</p> <p>Then click \"Transfer File -&gt; GNSS\".</p> <p></p> <p>Once that's done, go to Receiver -&gt; Action -&gt; Save Config and SAVE IT! Alternatively you can do View -&gt; Messages View and SAVE IT! This will be the F9P that will end up in your left-hand socket.</p> <p></p> <p>For single board you'll all set. For Dual board: power the board down, disconnect USB and put the other one in, reconnect USB, power up the board.</p> <p>Follow the same procedure and this time for Right receiver pick 1.13 DualAntennaPosition_GGA VTG RTCM-Right.txt This will be the F9P going in the right-hand socket.</p> <p>As above, save.</p>"},{"location":"hardware/configuring-your-tablet/","title":"Configuring your tablet","text":"<p>The guide for the AgOpenGPS side of things is here: https://github.com/farmerbriantee/AgOpenGPS/wiki/02.-Install-AgOpenGPS-and-AgIO</p> <p>There's a useful video on this too: https://youtu.be/WiyDXU-lgrM?si=zmTy8ViAG0TGkvad</p>"},{"location":"hardware/cytron-motor-driver/","title":"Cytron motor driver","text":"<p>The Cytron MD13S is the motor driver of choice. This can drive a 12V or 24V motor, or energise the solenoids in a hydraulic system for auto-steer.</p> <p>https://www.cytron.io/p-13amp-6v-30v-dc-motor-driver</p> <p>Cytron make a few different types of motor driver - but the MD13S is the right size for the PCB and has the right requirements, so don't go \"for one that sounds similar\".</p> <p></p> <p>Sample suppliers:</p> <ul> <li>https://robotbits.co.uk/product/cytron-13amp-6v-30v-dc-motor-driver/</li> <li>https://botland.store/motor-drivers-modules/12412-cytron-md13s-single-channel-30v-13a-motor-controller-5904422377090.html</li> <li>opencircuit.shop</li> <li>kamami.pl</li> </ul>"},{"location":"hardware/gps-modules-standard-or-micro/","title":"GNSS / GPS - ZED-F9P","text":""},{"location":"hardware/gps-modules-standard-or-micro/#what-is-it-gnss-or-gps","title":"What is it, GNSS or GPS..","text":"<p>Well, GNSS stands for Global Navigation Satellite System. It's the Collective name for multi GNSS Satellites like GPS, Glonass, Galileo, Beidou and QZSS. Mostly everyone calls his system a GPS Autosteer System but GPS is the American Satellite system. That's where the confusion often comes from.</p> <p>The systems work with NMEA strings (data that came from GNSS receivers with actual position, ground speed, heading, and so on.) So, to know where your tractor is you need one. Most used currently are Ardusimple's SimpleRTK2B F9P receiver boards. They are very good and low priced multi GNSS receivers and also RTK ready. For a good auto steer system you need very high accuracy. with rtk corrections fed into the SimpleRTK2b board it can get to a &lt;2cm precision. I tell more about that in the NTRIP/RTK page.</p>"},{"location":"hardware/gps-modules-standard-or-micro/#f9p-modules-standard-or-micro","title":"F9P modules - standard or micro?","text":"<p>Here, you'll be following your board choice - you can't fit Micro GPS modules to a standard board, or vice versa.</p> <p>Standard: https://www.ardusimple.com/product/simplertk2b/</p> <p>Standard with Antenna https://www.ardusimple.com/product/simplertk2b-basic-starter-kit-ip65/</p> <p></p> <p>or Micro: https://www.ardusimple.com/product/simplertk2b-micro/</p> <p> </p> <p>Options :\\ Variant - ZED-F9P (absolutely NOT F9R!!)\\ RF connector - SMA\\ Form Factor- Through hole</p> <p>If you want to use it standalone or with an rtkbase, here's a breakout board - then USB should recognize it: https://github.com/AgHardware/Boards/tree/main/Ublox%20F9P/BuckWheat%20Micro%20breakout</p>"},{"location":"hardware/gps-modules-standard-or-micro/#xbee-module-pinout","title":"XBee module pinout","text":"<p>If you match up the angled corners then the pinout matches, XBEE calls the communication pins DOUT/DIN instead of TX/RX. The only connections that the USB adapter makes is power, ground, DIN, DOUT, and RSSI (the led will just be off). Install with the RF connector away from the USB connector.</p> <p>Note that the ArduSimple adapter doesn\u2019t use the micro F9P\u2019s USB connection, it uses the micro F9P\u2019s serial connection through an FTDI converter. If you are going to use RTKBase for the base station then the micro F9P won\u2019t be automatically recognized. You\u2019ll want to jump to step 7 of the RTKBase Github install page \u201cConnect your gnss receiver to raspberry pi/orange pi/\u2026 with usb or uart, and check which com port it uses (ttyS1, ttyAMA0, something else\u2026)\u201d Just a couple extra setup steps, not that time consuming.</p>"},{"location":"hardware/gps-modules-standard-or-micro/#single-or-dual","title":"Single or Dual","text":"<p>Dual has built-in heading and roll calculation. Antennas must be placed at least 150cm apart. The performance of single have been greatly improved it worth trying before going with dual. </p>"},{"location":"hardware/imu-inertial-measurement-unit/","title":"IMU (inertial measurement unit)","text":"<p>The IMU's job is to assist with orientation, pitch and roll. It helps immensely with accuracy in a single-GPS configuration, but it's not needed if you're going dual-GPS. You can use it in dual as well tho.</p> <p>The BNO085 is the one to go for - no other is as good. The Adafruit is popular, but if you look at any kind of alternative, the pins have to be in the same configuration - so play it safe and stick with this. These can be hard to find, so watch the Discourse or Telegram channels as helpful members often post when they see stock at $VENDOR.</p> <p></p> <ul> <li>https://www.adafruit.com/product/4754</li> <li>digikey</li> <li>botland</li> </ul> <p>IMU needs to be placed like on the above picture with X or Y matching up with the direction the tractor travels. (you can orient it 0,90,180,270 degrees and configure X / Y + invert accordingly from the software)</p>"},{"location":"hardware/kits/","title":"What are my options for steering the tractor???","text":"<p>You've come to the right place. This short page will give you some suggestions on what kit you will need in order to get up and running. Take some notes here, then use along with the other pages to work it out.</p>"},{"location":"hardware/kits/#a-windows-tablet","title":"A windows tablet!","text":"<p>Currently, AOG is only supported under Windows - so go read up on suggested windows tablet models here. Having a windows tablet is applicable to all situations.</p>"},{"location":"hardware/kits/#my-tractor-is-steer-ready-and-i-believe-it-can-be-done-via-canbus","title":"My tractor is steer-ready and I believe it can be done via CANBUS.","text":"<p>For this, you will want the CANBUS (aka \"Tony's board) PCB. The board is self-assembly. It's pretty easy to do, but if you're not keen, ask in the forum or the telegram channel for help. The information for how to build the board is here. You will also need the Teensy, the F9P (micro is recommended), an antenna and the BNO085</p>"},{"location":"hardware/kits/#my-tractor-has-a-steering-valve-but-its-not-canbus-i-believe-its-a-standard-pwm-style-hydraulic-valve","title":"My tractor has a steering valve, but it's not CANBUS. I believe it's a standard PWM-style hydraulic valve","text":"<p>For this, you will want the standard (All-in-one 4.x) PCB. The board can be ordered mostly pre-assembled. You will also need the Teensy, the F9P (micro or standard, depending on the board), an antenna, a Cytron, a wheel angle sensor (if you can't use the one on the tractor) and the BNO085</p>"},{"location":"hardware/kits/#my-tractor-isnt-steer-ready-i-want-to-use-the-keya-steering-wheel","title":"My tractor isn't steer-ready, I want to use the Keya steering wheel","text":"<p>For this, you will want the standard (All-in-one 4.x) PCB. The board can be ordered mostly pre-assembled. You will also need the Teensy, the F9P (micro or standard, depending on the board), an antenna, a Cytron, a wheel angle sensor (if you can't use the one on the tractor), the Keya motorised wheel and the BNO085</p>"},{"location":"hardware/kits/#my-tractor-isnt-steer-ready-i-want-to-fit-my-own-hydraulic-valve-block","title":"My tractor isn't steer-ready, I want to fit my own hydraulic valve block","text":"<p>For this, you will want the standard (All-in-one 4.x) PCB. The board can be ordered mostly pre-assembled. You will also need the Teensy, the F9P (micro or standard, depending on the board), an antenna, a Cytron, a wheel angle sensor (if you can't use the one on the tractor), the Baraki valve and the BNO085</p>"},{"location":"hardware/kits/#my-tractor-isnt-steer-ready-i-want-to-fit-my-own-wheel-motor","title":"My tractor isn't steer-ready, I want to fit my own wheel motor","text":"<p>For this, you will want the standard (All-in-one 4.x) PCB. The board can be ordered mostly pre-assembled. You will also need the Teensy, the F9P (micro or standard, depending on the board), an antenna, a Cytron, a wheel angle sensor (if you can't use the one on the tractor), the motor and the BNO085</p>"},{"location":"hardware/otherprojects/","title":"Some other cool open-source ag-related projects","text":""},{"location":"hardware/otherprojects/#agisostack-bringing-isobus-implement-control-to-the-world-of-agriculture-httpsagisostackcom","title":"AgISOStack - bringing ISOBUS implement control to the world of Agriculture  https://agisostack.com/","text":""},{"location":"hardware/otherprojects/#agopengps-tools-various-tools-related-to-agopengps-httpsgithubcomlansalotagopengps-tools","title":"AgOpenGPS Tools - various tools related to agOpengps https://github.com/lansalot/AgOpenGPS-Tools","text":""},{"location":"hardware/otherprojects/#a-worldwide-community-of-farmers-that-build-and-modify-our-own-tools-farmhack-httpsfarmhackorgtools","title":"\"A worldwide community of farmers that build and modify our own tools\" FarmHack - (https://farmhack.org/tools)","text":""},{"location":"hardware/otherprojects/#gathering-for-open-agricultural-technology-httpsgoatechorg","title":"Gathering for Open Agricultural Technology - https://goatech.org/","text":""},{"location":"hardware/otherprojects/#controlling-a-bogballe-spreader-httpsgithubcomcharlesquickaog-bogballe-bridge","title":"Controlling a BogBalle spreader - https://github.com/charlesquick/AOG-Bogballe-Bridge","text":""},{"location":"hardware/otherprojects/#awesome-tractor-simulator-that-works-with-aog-httpsgithubcomgnss-stylistagopengpssimpoc","title":"Awesome \"tractor simulator\" that works with AOG! https://github.com/GNSS-Stylist/AgOpenGPSSimPoC","text":""},{"location":"hardware/otherprojects/#want-to-run-your-own-rtk-base-station-on-a-raspberry-pi-httpsgithubcomstefalrtkbase","title":"Want to run your own RTK base station on a Raspberry pi? https://github.com/Stefal/rtkbase","text":""},{"location":"hardware/otherprojects/#open-weed-locator-httpsgithubcomgeezacolemanopenweedlocator","title":"Open Weed Locator https://github.com/geezacoleman/OpenWeedLocator","text":""},{"location":"hardware/otherrefs/","title":"Other References","text":"<p>(link broken, will find a new home) Keya KY170G Electric steering motor user manual V2.4.pdf</p>"},{"location":"hardware/suppliers/","title":"Suppliers of full systems","text":""},{"location":"hardware/suppliers/#note-that-these-are-self-submitted-and-are-not-official-aog-in-any-way-all-vendors-here-do-have-a-good-reputation-within-the-aog-community-however","title":"Note that these are self-submitted and are not \"official AOG\" in any way. All vendors here do have a good reputation within the AOG community however.","text":""},{"location":"hardware/suppliers/#europe","title":"Europe:","text":"<p>Netherlands: https://raycorp.nl/Webshop</p> <p>Austria: https://www.autosteer.cc/</p> <p>Hungary: https://agopen.shop/</p> <p>Poland: https://navisklep.pl/  </p> <p>Canada: http://www.diyfarmtech.ca/</p>"},{"location":"hardware/suppliers/#_1","title":"Suppliers of full systems","text":"<p>Baraki steering valve blocks: https://www.agopengps.pl/</p>"},{"location":"hardware/tablet/","title":"Tablet","text":"<p>You want a tablet that's rugged and has a screen that won't be impaired in direct sunlight. The Panasonic Toughpad range can be bought very cheaply, refurbished, on ebay. Above 400 nits is a good experience.</p> <p>Look for one with at least 8gb memory, preferably an SSD hard drive and if you can find one with built-in ethernet all the better (otherwise you'll need a USB dongle to connect it to the AOG board). Ideally, an HD screen (1920x1080) would be good, but the standard 1366x768 is still OK for AOG.</p> <p>Make sure it has wifi for tethering to your phone, or USB for a hard-tether if not (preferably not of course).</p> <p>MOST IMPORTANTLY - it must be a WINDOWS tablet. Android will NOT work. The version of Windows isn't important, 10 or 11 will be fine. A tablet that uses the ARM processors is also not suitable - Intel or AMD only I'm afraid.</p> <p>Make sure you get a charger, and you may need to go looking for a 12V charger as well of course (unless your machine has a 110/240V inverter?). If you find the right seller, you can even claim the VAT back.</p>"},{"location":"hardware/tablet/#models-of-note","title":"Models of note:","text":"<ul> <li>Panasonic Toughpad CF-D1 (1280x720 - on the limit for screen size)</li> <li>Panasonic Toughpad FZ-G1 (1920x1200)</li> <li>Panasonic Toughbook FZ-G2 (1920,1080, well spec'd usually)</li> <li>Panasonic Toughpad FZ-M1 (7\" screen, a little small)</li> <li>Dell 5290</li> </ul> <p>Models to STAY AWAY FROM</p> <ul> <li>Panasonic FZ-A1 (android, no use!)</li> </ul>"},{"location":"hardware/tablet/#charger-for-the-tablet","title":"Charger for the tablet:","text":"<p>Most tablets that come with USB-C require charging from 20V and require a 45-65W charger. As most of us has 12V only in the cab finding a charger can be tricky. These are the ones tested and working with Panasonic, tho note that you can run Panasonic direct from battery using these plugs, no need for charger : *  https://www.aliexpress.com/item/1005004993549400.html  *  https://www.aliexpress.com/item/1005003696634807.html * * https://www.amazon.co.uk/Panasonic-FZ-G1AABAXLM-FZ-G1AABAXRM-FZ-G1AABAB1M-FZ-G1AABGXLM/dp/B00IYV96KC * Baseus Superme TZCCZX-01 - 100W ~20 EUR * Baseus Superme TZCCZM-0G - 140W ~30 EUR</p>"},{"location":"hardware/tablet/#tablet-holder","title":"Tablet Holder","text":"<ul> <li>RAM mount</li> <li>https://www.ram-mount.co.uk/products/ram-hol-tab25u</li> <li>and add these cups: https://www.ram-mount.co.uk/products/ram-hol-tab19-cupsu</li> <li>From the music shop:</li> <li>Konig &amp; Meyer 19790</li> <li>Stable TC-3 Multi</li> <li>DIY:</li> <li>Cutting board + 3D printed clips :)</li> </ul>"},{"location":"hardware/teensy-4.1/","title":"Teensy 4.1","text":"<p>The brains of the AOG board is the Teensy 4.1, and these are a little hard to find. You want to make sure you get one that DOES have ethernet tho, as it is also available without. Do not buy a Teensy 3.2, or a 4.0.. you want 4.1.</p> <p>A good place to start your hunt is here: https://www.pjrc.com/store/teensy41.html</p> <p>Make sure the one you order has the chip highlighted in red - that's the ethernet controller.</p> <p></p> <p>Also, you'll need some long 2mm pitch headers to solder to the board for it to reach to connector on your PCB. Get the board itself with pins if you want to skip the soldering, but the soldering is pretty easy. Or if you can't find long pins, put a header on underside of teensy, same as on the board, and use standard length.</p> <p>You MUST solder those pins</p> <p></p> <p>Potential suppliers:</p> <ul> <li>https://www.hobbytronics.co.uk/teensy-v41</li> <li>https://www.sparkfun.com/products/16771</li> <li>OpenCircuit</li> <li>Kamami.pl</li> <li>botland</li> </ul>"},{"location":"hardware/teensy-4.1/#uploading-the-code","title":"Uploading the code","text":""},{"location":"hardware/teensy-4.1/#there-is-a-much-easier-way-to-do-this-now-using-aogconfigomatic-see-this-page-then-you-dont-need-to-do-any-of-the-below","title":"There is a much easier way to do this now, using AOGConfigOMatic. See this page, then you don't need to do any of the below!","text":""},{"location":"hardware/teensy-4.1/#before-you-go-any-further-dont-plug-the-teensy-in-just-yet","title":"Before you go any further, don't plug the Teensy in just yet!","text":"<p>Then, retrieve the code and unzip it.</p>"},{"location":"hardware/teensy-4.1/#note-it-may-be-version-55-57-571-whatever-is-in-the-support-folder-go-with-the-latest-thats-there","title":"NOTE: it may be version 5.5, 5.7, 5.7.1 whatever is in the support folder. Go with the latest that's there!","text":"<p>You will need: * Arduino IDE 1.8.x (legacy version). Version 2 has some issues occasionally, so don't use that * TeensyDuino - use 1.5.7, this is known to work.</p> <p></p> <p>Your downloads folder will likely look something like this:</p> <p></p> <p>And while you're at it, right-click on the ZIP file with the code from Github, and do Extract All. Accept the default locations.</p> <p>Grab the Arduino IDE from the link above and install it. Accept all the default during the installation. If you get asked to install device software or other drivers, agree:</p> <p> </p> <p>Once that's done, install TeensyDuino.</p> <p> </p> <p>It should find your Arduino IDE (you did accept the defaults, didn't you?) so accept that:</p> <p></p> <p>Who likes a good library? You do! Install them!</p> <p></p> <p>And when it's done, you'll see something like this:</p> <p></p> <p>You can plug your Teensy in now over USB - and make sure it is removed from the Panda or All-in-one-boards!!</p> <p>Now would be a great time to make sure the drivers are OK. Right-click on your Start menu (or long-press the start menu if you're on a touch-screen), and pick Device Manager.</p> <p></p> <p>Find the Ports (COM &amp; LPT) section, and open it. Your Teensy should be there, without any red crosses or exclamation marks beside it. Note that your port number, in this case COM3, will likely be different. Remember that number, it's important. Also, to aid in identification, make sure you don't have any other devices plugged in that might be assigning COM ports (eg, your ZED-F9P modules):</p> <p></p> <p>Then, you're going to load the software to your Teensy. Start the Arduino IDE. If you see any messages like this, select \"Allow Access\":</p> <p></p> <p>It'll come up with an empty \"sketch\", but we don't care about that. File, Open and find your way down into the files you extracted:</p> <p></p> <p>Once you've found that folder, pick the file shown (it will be named the same as the folder - and the version might well be different if a new one is released and this wiki page hasn't been updated):</p> <p></p> <p>Another instance of the Arduino IDE will open (you can close the empty one), and now we're just about ready to send it to the Teensy. However, despite having the IDE and TeensyDuino installed, the Arduino software doesn't actually exactly what model of Teensy you have (it might have guessed it right, it might not), so we need to check some items on the Tools menu. The first to pick is the board, so go make sure 4.1 is picked.</p> <p></p> <p>You might notice when you return to the Tools menu, that there are more options on there now that weren't there before. Don't worry about that.</p> <p>We can lower the speed to 450mhz which will keep the chip a little cooler with no ill effect:</p> <p></p> <p>There will likely be a choice for the Port, so make sure you've the one that says Teensy 4.1 picked and ticked:</p> <p></p> <p>Now the exciting part - you're a software developer for the next few minutes. Click the second icon on the toolbar, the Right-arrow, and all being well, it should compile it and send it to the Teensy! Depending how decent your computer is, this may take anything from a couple of seconds to a couple of minutes. Watch the green progress bar down the bottom:</p> <p></p> <p></p> <p>You might notice a couple of warnings - ignore those. Red text means something has gone wrong tho, in which case paste a screenshot or the text in Discourse/Telegram and ask for help.</p> <p></p> <p>The Teensy flasher (ahem) might pop up and ask you to press a button the Teensy - that's the big white button if so - but it might well just crack on and flash it for you. Watch for the flashing red lights on the Teensy. And then when it's finished... nothing. Silence. Just that screen, and no lights on the Teensy (the reason it was likely flashing when you plugged it in for the first time is it was running what's known as the \"blink sketch\" - code that does nothing more than flash the little LED).</p> <p>So, how do we know it's working? We go to the monitor!</p> <p></p> <p>It's likely saying something like this:</p> <p></p> <p>And congratulations - your Teensy is now running the AgIO code! You can put it back in either the Panda board, or your all-in-one board now!</p> <p>(Sorry tho, that's possibly your software developing days over)</p>"},{"location":"hardware/teensy-4.1/#problems","title":"Problems","text":"<p>I got weird red message in text! Help!</p> <p></p> <p>First thing to do is CHECK YOUR MODEL! If it's not set to Teensy 4.1, it won't work. And every wrong model will likely throw you a different message. Go back above and set it properly.</p>"},{"location":"hardware/the-motor/","title":"The motor","text":"<p>You have 2 choices here: 24V or 12V</p>"},{"location":"hardware/the-motor/#phidgets-24v-motor","title":"Phidgets 24V motor","text":"<p>If you're going down the steering-wheel-motor route, the Phidgets is the one to buy. There are alternatives, but PotatoFarmer has made an excellent 3D-printed holder that fits it nicely (see below)</p> <p>Specs:  24V 600RPM 5.1kgcm torque</p> <p>https://www.phidgets.com/?tier=3&amp;catid=19&amp;pcid=16&amp;prodid=993</p> <p></p> <p>Note that if you're using a 24V motor as above, you'll need a 12V-24V step-up converter, sample here.</p> <p>https://www.ebay.co.uk/itm/334688323208</p> <p></p>"},{"location":"hardware/the-motor/#mfa-12v-motor","title":"MFA 12V motor","text":"<p>This is mostly used by the French guys you can source it from a couple places in europe. You can get roughly a 30% discount from the manufacturer when directly ordering from them but you need to order 5+. https://www.mfacomodrills.com/gearboxes/986d_series.html</p> <p>Specs:  4:1 ratio 12V 1300RPM 3.3kgcm </p> <p>(you can likely add an extra 10% as the tractors voltage is around 13-14V) which makes this less powerful than phidgets but good enough for U-Turn</p> <p>Make sure the v2 AIO board has extra traces as this can easily eat 5-7 amperes at peak.</p>"},{"location":"hardware/the-motor/#aliexpress-12v-motor","title":"Aliexpress 12V motor","text":"<p>https://www.aliexpress.com/item/1005001644698564.html 5.2 :1 ratio 12V 950RPM</p> <p></p>"},{"location":"hardware/the-motor/#others","title":"Others","text":"<p>We've seen all kind of 12V motors being used from drills to Opel Corsa C electric servo. Choice is yours.</p>"},{"location":"hardware/the-motor/#mounting-the-motor","title":"Mounting the motor","text":"<p>For some ideas on how to mount the motor to the wheel, check these resources out: https://discourse.agopengps.com/c/hardware/stl-file-links-and-bracket-ideas/39</p> <p>PotatoFarmer has made an awesome 3D printed gearset and motor holder, check that out here: https://discourse.agopengps.com/t/universal-fit-gear-system-with-quick-tach-motor-holder/6579 STL for the MFA motors small gear: (don't use PLA for it go with PETG or TPU) https://discourse.agopengps.com/t/universal-fit-gear-system-with-quick-tach-motor-holder/6579/269 </p> <p>If you prefer steel then check out bricbric -s design here: https://cults3d.com/en/users/entropiemaximun/creations  </p> <ul> <li>If you don't have a bender: https://cults3d.com/en/3d-model/tool/universal-clutch</li> <li>If you have a bender: https://cults3d.com/en/3d-model/tool/universal-clutch-v2-bending-steel Forum post: https://discourse.agopengps.com/t/small-teeth-and-friction-universal-mecanism/9669</li> </ul> <p>There's a useful MF 76-77 mount here: https://www.thingiverse.com/thing:5427025 </p>"},{"location":"hardware/the-motor/#wiring-the-motor","title":"Wiring the motor","text":"<p>Use at least 0.75mm2 wires. You'll have a hard time putting a 1.5mm2 into the Ampseal connector. So likely 1mm2 is good enough. Which wire goes where?! You can invert the direction from AgOpenGPS so don't worry about it. V4 board can easily handle the 12V motors without extra traces. Use Pin18 on the ampseal as that's a direct connection to cytron. Add a 10A fuse before it.</p>"},{"location":"hardware/the-motor/#freewheeling-mods","title":"Freewheeling mods","text":"<p>When the motor is not used it acts as a resistance. When the cytron is connected it acts like a brake. You have a few options. Playing with electronics is risky so do it at your own risk.</p>"},{"location":"hardware/the-motor/#free-wheel-mod-v0","title":"Free wheel mod v0","text":"<p>Bricbrics holder can physically detach the motor.</p>"},{"location":"hardware/the-motor/#free-wheel-mod-v1","title":"Free wheel mod v1","text":"<p>Get a proper relay such as: Bosch 0332019110 Use the Lock pin which is a switched 12V output to trigger it. Disconnect one of your motor wires.</p>"},{"location":"hardware/the-motor/#free-wheel-mod-v2","title":"Free wheel mod v2","text":"<p>This new AiO board has the option of connecting pwm2 to the cytron for the freewheeling mod.</p> <p></p> <p>https://www.youtube.com/watch?v=v6l7rEM7Ldk</p>"},{"location":"hardware/tl-dr-cut-to-the-chase-what-do-i-buy/","title":"TL;DR - cut to the chase, what do I BUY???","text":"<p>Well, as I said, if it were me, I'd read through all these sections. And although I can't force you to - I'm not your mother - it's strongly recommended.</p> <p>But if you're the impatient type, you will need:</p> <ul> <li>a WINDOWS tablet !</li> <li>at least one or two Ardusimple ZED-F9P GPS modules, plus antenna(s)</li> <li>If all you want to do is use AOG as a light bar (where it indicates where you should steer), you can likely stop there, plug a single F9P into your tablet and you're away.</li> </ul> <p>But where's the fun in that? AOG can steer the machine for you... and all you need to add for that is:</p> <ul> <li>an AgOpenGPS PCB (the new all-in-one design is recommended)</li> <li>an IMU (if going single-antenna)</li> <li>a motor to turn the steering wheel</li> <li>the Cytron to power either the wheel motor, or the steering hydraulic</li> <li>a 12V-24V step-up converter</li> <li>access to an RTK station to get your corrections (whether government, your neighbour/friend, a community station, a commercial provider or whatever)</li> <li>or, see here how to build your own for little-money!!</li> </ul> <p>However... did I mention I really recommend you read your way through the \"Getting up and running\" sections in their entirety? It could help you make more informed decisions, as to why what part is needed, what you can do without etc.</p>"},{"location":"hardware/videoguides/","title":"Video Guides","text":""},{"location":"hardware/videoguides/#agopengps-download-configuration-and-setup","title":"AgOpenGPS - download, configuration and setup","text":"<p>https://www.youtube.com/watch?v=UueePQ45SAo</p>"},{"location":"hardware/wheel-angle-sensor/","title":"Wheel Angle Sensor","text":"<p>It's the job of the wheel angle sensor to tell AOG which direction the wheels are pointing. If you already have one on your machine, you might find you can use it instead. Check out the Discourse forum for more on that. If you can't use it, or there isn't one, you can use one of these to provide the info to AOG. Having wheel direction information (no matter how it's provided) is critical, you can't skip this.</p>"},{"location":"hardware/wheel-angle-sensor/#land-rover-suspension-height-sensors-are-popular-here-and-theyre-pretty-cheap-brand-new-on-ebay","title":"Land Rover suspension height sensors are popular here and they're pretty cheap brand new on ebay.","text":"<p>You should also get a wiring harness plug for it:</p> <p></p> <p>This is how it looks on the tail - you will need - pin 5 (5V) going to Ampseal Pin 1 (5V WAS) - pin 4 (signal/output) going to Ampseal pin 2 (5V High) - pin 1 (GND) going to Ampseal pin 4 (GND)</p> <p></p> <p>Good video explaining the LR WAS here: https://www.youtube.com/watch?v=4GPAt9eeeNA</p> <p>If for any reason your plug is wired incorrectly, you can re-pin it like this (via \"P R\" on Telegram):</p> <p>\"There is a green lock take a small screwdriver and push it to the side. Now you can pull at the cable and the pin comes out if you did bad crimp you can use the screwdriver for push the pin from the front\"</p> <p></p> <p></p> <p>Sensor + plug also available on Aliexpress if you have time.</p> <p>There's a lot of great ideas on how to mount your wheel angle sensor here:</p> <p>https://discourse.agopengps.com/t/wheel-angle-sensor-installation-examples-lots-of-pictures/10163</p> <p>Also, there's a handy STL you can print that your LR sensor will just slip into here: https://github.com/lansalot/AgOpenGPS-Tools/blob/main/STLs/LandRoverWASHolder.stl</p> <p></p> <p>(Please advise who made this, so credit can be given - it was found months ago and no idea who made it. Likewise, if you would prefer it removed, please let anyone in the Telegram chat know)</p>"},{"location":"hardware/wheel-angle-sensor/#linear-sensor","title":"Linear sensor:","text":"<p>https://a.aliexpress.com/_EzWvmn1</p> <p></p>"},{"location":"hardware/wheel-angle-sensor/#kyocera-avx","title":"Kyocera AVX","text":"<p>9168000010</p> <p></p> <ul> <li>https://eu.mouser.com/ProductDetail/KYOCERA-AVX/9168000010</li> </ul> <p>Connector (same as land rover): * https://eu.mouser.com/ProductDetail/TE-Connectivity-AMP/1-967616-1 * https://eu.mouser.com/ProductDetail/TE-Connectivity-AMP/5-965906-6 This is how it looks on the tail - you will need - pin 1 (5V) going to Ampseal Pin 1 (5V WAS) - pin 4 (signal/output) going to Ampseal pin 2 (5V High) - pin 2 (GND) going to Ampseal pin 4 (GND)</p>"},{"location":"hardware/wheel-angle-sensor/#kyocera-avx-with-arm","title":"Kyocera AVX with arm","text":"<p>9197000010</p> <p></p> <ul> <li>pin 5 (5V) going to Ampseal Pin 1 (5V WAS)</li> <li>pin 4 (signal/output) going to Ampseal pin 2 (5V High)</li> <li>pin 1 (GND) going to Ampseal pin 4 (GND) Connector (see above same as land rover)</li> </ul> <p>https://www.conrad.com/en/p/kyocera-avx-hall-effect-sensor-9197000010-4-75-5-25-v-reading-range-45-45-amp-plug-2826994.html?searchType=SearchRedirect</p> <p>John Deere sensor (can be used on anything ofc, and probably costs extra coz the JD tax). Note however, that these sensors are spring-loaded, which will take up any slack and are thus a good option. If you search for A-RE575331 or I-RE575331, you'll find it cheaper.</p> <p></p> <p></p> <p>Its a Sensata BEI 9360, Deere RE575331, A&amp;I A-RE575331.</p> <p>Deere often calls it a hydro handle sensor but they also use it as a WAS.</p> <p>https://www.sensata.com/sites/default/files/a/sensata-9360-series-rotary-position-sensor-datasheet.pdf</p> <p>The 6 pin Metripack that it uses is the same as used by GM for LS1 and LS6 engine TPS sensors.</p> <p>If you give the auto parts store (or amazon, rock auto, etc) any of these numbers they should be able to come up with a pigtail. 12085247, 12101880, 12167121, 556</p> <p></p> <p>These are a great option for combine harvesters, easily hidden under or behind the ram where there's usually plenty of space</p>"},{"location":"hardware/wheel-angle-sensor/#available-in-different-lengths-so-make-sure-they-match-at-least-the-amount-of-exposed-steering-ram-when-youre-at-full-lock-or-youll-rip-it-out-the-end","title":"Available in different lengths, so make sure they match at least the amount of exposed steering ram when you're at full lock, or you'll rip it out the end","text":""},{"location":"hardware/AIO-Board-flavours/","title":"Index","text":"<p>AgOpenGPS boards come in two flavours - Standard or Micro. Functionally, they are the same - they only differ in size. Whether you want single-GPS or dual, either board is fine; and you can simply add another GPS module at a later date if you so wish, no need for another board.</p>"},{"location":"hardware/AIO-Board-flavours/#choose-a-board","title":"Choose a board","text":"<p>V4.x is essentially the same board as v2.5x just improved. V4 has stronger traces more LED-s for easier debugging and should be more bulletproof.</p> <p>You can get the board designs from here And you can find the discourse threads here: * V2.x: https://discourse.agopengps.com/t/all-in-one-pcb/10444 * v4 micro: https://discourse.agopengps.com/t/v4-all-in-one-pcb/12313</p>"},{"location":"hardware/AIO-Board-flavours/#how-to-orderbuild-a-pcb","title":"HOW TO ORDER/BUILD A PCB","text":"<p>We use the JCLPCB service to manufacture our PCBs, but you can use another supplier if you prefer.</p>"},{"location":"hardware/AIO-Board-flavours/#how-to-order-video","title":"How to order Video","text":""},{"location":"hardware/AIO-Board-flavours/#how-to-order-text-guide","title":"How to order Text guide","text":"<p>1.- Click on Order Now to access the page to place the order, and that'll take you to a page that looks like this:</p> <p></p> <p>Caution: notice that the blank page is offering a 2-layer board, but on uploading the gerber file, it should detect is as 4-layer!</p> <p>These files are located in AgOpenGPS/Support/TeensyModules/Board and pick either your Micro or Std design. Inside each folder we will find three files that we are going to use, the ZIP file is your Gerber file, so pick that first:</p> <p></p> <p>It'll process for a bit, and you'll see a summary view:</p> <p></p> <p>Down to the bottom of the page, and slide the \"PCB Assembly\" switch over.</p> <p></p> <p>Here, you should select \"assemble top side\", and other important things are PCBA quantity, you can choose 5 full PCB (with SMD components soldered) or only 2 full PCB and 3 empty. If you choose Confirm Parts placement an JCLPCB engineer will correct your part placement and polarity (this action will need your confirmation).</p> <p>!! Bottom side is for manual Assembly. If you choose to assemble both side you'll end up with a non-working board that has components twice. !!</p> <p>Click Confirm when you're happy, and then add the BOM file and CPL file (they are in the same folder as the ZIP file - make sure you didn't accidentally move from the Standard to the Micro folder, or vice-versa!)</p> <p></p> <p></p> <p>Now comes the fun part - it'll go and check with the JLCPCB inventory and see if any parts you need are missing. Here's a sample, it's likely yours will be different tho.</p> <p></p> <p></p> <p></p> <p>First off, starting from the bottom - it's expected that they can't supply some of the components. The SimpleRTK2B, the Cytron, the Teensy, various connectors etc, the BNO085 - they're all fine to omit and you can get them elsewhere. If you can find alternatives, now would be a good time to try that, but if not, just Save to Cart again and get the cool 3D rendered output.</p> <p></p>"},{"location":"hardware/AIO-Board-flavours/#shortfall-alternate-parts","title":"Shortfall / Alternate parts","text":"<p>As above, you'll find that some components are likely not in stock. Here are some suitable alternatives:</p> Name Designator Footprint Quantity Supplier Supplier Part Alternatives 1000uF C24,C25 CAP-SMD_BD12.5-L13.0-W13.0-FD 2 LCSC C401847 C2904877 1N4004_C727080 D7 SMA_L4.4-W2.8-LS5.4-RD 1 LCSC C727080 C433394 FH-00133 U10,U19,U9,U11,U18,U902,U904,U905,U906,U907,U908,U909,U910 HDR-TH_4P-P2.54-V-F 13 LCSC C2685089 C2935975,C2897367 A2005HWV-2X3P CN2 HDR-TH_6P-P2.00-V-F-R2-C3-S2.00 1 LCSC C225302 C2935888,C2906071 1510.521 U13 SINK-TH_L15.0-W10.5-H21.0 1 LCSC C4649 C116600 24v IN U23 CONN-TH_2P-P5.08_JL500-50802G01 1 LCSC C387820 C709041 Header-Female-2.54_1x20 U8,U903 HDR-TH_20P-P2.54-V-F 2 LCSC C50984 C2905423"},{"location":"hardware/AIO-Board-flavours/v2.x-board-issues---fixes/","title":"AIO v2.x issues and fixes","text":"<p>This page will aim to collect all the issues / fixes / improvements one can do having a v2.x board.</p>"},{"location":"hardware/AIO-Board-flavours/v2.x-board-issues---fixes/#tougher-traces","title":"Tougher traces","text":"<p>The Input diode can only handle 3A Cytron can do a lot more than the traces</p> <p>Using it via 24V is okay or with relays it's okay as well.</p> <p>12V 5-6A motor however requires users to add some extra wires.</p> <p>Micro: </p> <p>Standard: </p>"},{"location":"hardware/AIO-Board-flavours/v2.x-board-issues---fixes/#pressure-sensor","title":"Pressure Sensor","text":"<p>The AiO's pressure input was meant for 20mA sensors, the above should modify it for variable voltage input</p> <p>Use the correct resistors as needed. For example, 5V input, use a 1:2 ratio (eg, R1 3k, R2 6k or 5k to be safe) For 0-12V input, use a 3:1 ratio (eg, R1 6k, R2 2k)</p> <p>Micro: </p> <p>Standard: </p>"},{"location":"hardware/AIO-Board-flavours/v2.x-board-issues---fixes/#can-termination-fix-for-micro","title":"Can termination fix for Micro","text":""},{"location":"hardware/AIO-Board-flavours/v2.x-board-issues---fixes/#free-wheel-mod-fix","title":"Free wheel mod fix","text":"<p>Standard:</p> <p></p> <p>Micro:</p> <p></p> <p>The reason for swapping the 330ohm to 1kohm is because linking PWM2 Cytron to Teensy with 10ma is too much - they recommend 4ma max.</p>"},{"location":"hardware/AIO-Board-flavours/v4.x-AIO-board-issues-and-fixes/","title":"These fixed are for v4.1 STD / Standard only","text":""},{"location":"hardware/AIO-Board-flavours/v4.x-AIO-board-issues-and-fixes/#v45-boards-do-not-need-these-fixes","title":"v4.5 boards do NOT need these fixes!!","text":"<p>The trace next to the ampseal is touching the direct 12V input, so for 24V motors please cut the trace. For valves / 12V motor the outside 12V pin will power your cytron directly. (so the label is misleading)</p> <p></p> <p></p> <p></p>"},{"location":"hardware/Connectors/","title":"Connector database","text":"<p>Below, a database that will hopefully build up into a useful list of connectors. Note that links here are not endorsements, but samples where you might be able to buy, or find more information in order to help you find the right part at your favourite local dealer.</p> <p>There's also a handy list of potentially-printable connectors here, along with some accessories (eg caps, shells).</p> Description Sample 2-pin Part Number: Deutsch/Durite 001142Typical usage: steering valves on Case/NHhttps://webshop.durite.co.uk/itm/Deutsch-Connectors/2-Way-Female-Deutsch-DT-Series-Connector/001142 Part Number: Delphi 12162193Typical usage: steering valves on John Deerehttps://mou.sr/3IsiF3L Part number: TE 282189-1 and 106462-1JPT 2-pin connectorshttps://www.amazon.co.uk/Sealed-Waterproof-Female-Connector-Prewired/dp/B0DPL3DRDV/ref=sr_1_6?sr=8-6 3-pin Part Number: try \"3 pin tractor plug\"Typical usage: powering your boards!https://www.amazon.co.uk/APUK-Tractor-Implement-Compatible-Amazone/dp/B07MXNW193https://fr.aliexpress.com/item/1005003772953929.html Part Number: TE Connectivity 344273-1Typical usage: Case/NH WAShttps://www.aliexpress.com/item/10000352442786.html 4-pin For Danfoss valvehttps://www.aliexpress.com/item/10000360045685.html 6-pin Part Number: TE Connectivity 1-967241-1Typical usage: Claas ATP 009 steering moduleshttps://www.te.com/usa-en/product-1-967241-1.htmlPins https://www.digikey.co.uk/en/products/detail/te-connectivity-amp-connectors/927770-1/2054472 Part Number: TE Connectivity 1-954426-1Typical usage: Claas ATP 009 steering moduleshttps://www.te.com/usa-en/product-1-965426-1.htmlPins https://www.digikey.co.uk/en/products/detail/te-connectivity-amp-connectors/1-963749-1/4021582 7-pin Part Number: Amphenol CO16Typical usage: 3pt-linkage sensorhttps://www.aliexpress.com/item/1005004315200768.html?gatewayAdapt=Msite2PcSee also: https://discourse.agopengps.com/t/massey-ferguson-7700-autosteer-ready/7001 9-pin Part number: search \"J1939 plug\"Typical usage: ISOBUS/CANBUS connectorshttps://mou.sr/3ogaikKhttps://www.agritronixcorp.com/amphenol-tuchel-c016-7-terminal-plug-male-kit.htmlhttps://www.aliexpress.com/item/1005002988396207.htmlhttps://www.te.com/usa-en/product-HD16-9-1939S.html Part number: search \"J1939 plug\"Note, typically green plugs are for 500kbps sockets. Black for 250 or lower. There is a subtle pin difference to the above with regard to the diameter of the top pin.https://mou.sr/45feOk9https://www.te.com/usa-en/product-HD16-9-1939S-P080.html 16-pin Part number: Search 1-1964449-1Typical usage: Claas ATP 009 steering moduleshttps://www.te.com/usa-en/product-1-964449-1.htmlStyle is similar to 6-pin above Part number: Search 206037-1Typical usage: MF S-Series CANBUS diagnostic sockethttps://www.mouser.co.uk/ProductDetail/TE-Connectivity/206037-1?qs=mKNKSX85ZJf9q%2FMnuCzRZQ%3D%3DPins https://www.te.com/en/product-66101-4.html 23-pin Part Number Ampseal 776087-1Typical usage: For AgO boardshttps://www.te.com/usa-en/product-776087-1.htmlhttps://www.aliexpress.com/item/10000383252937.html Pre-wired plugs for same:https://www.aliexpress.com/item/1005002638698250.htmlhttps://www.aliexpress.com/item/10000383252937.html 25-pin Part Number: 827050-1Typical usage: Lexion \"gun-cabinet\" A9 connectorhttps://uk.farnell.com/amp-te-connectivity/827050-1/automotive-conn-r-a-hdr-25pos/dp/3394413 40-pin Part Number: DRC22-40PBTypical usage - Case/NH Trimble Nav Controllerhttps://www.te.com/usa-en/product-DRC22-40PB.htmlOr, print your own here.These take TE Connectivity size 20 (1mm) contacts"},{"location":"hardware/Connectors/#random-pins-and-sockets","title":"Random pins and sockets","text":"<p>1mm crimp</p>"},{"location":"hardware/Connectors/Connector-Accessories/","title":"Found any cool printables for connectors, boxes etc? List them here!","text":"<p>https://www.thingiverse.com/thing:4670391 - 3-pin superseal backshell</p> <p></p> <p>https://www.thingiverse.com/thing:2135524 - cap for 2-pin ampseal/superseal</p> <p></p> <p>https://discourse.agopengps.com/t/case-ih-puma-230-autosteer-ready/5592/73</p> <p>40-pin DRC connector</p> <p></p> <p>Various SuperSeals you can print out:  https://cad.onshape.com/documents/337a36e88011d4509228a1b3/w/b5ec0133bb1899b23d31672b/e/46bc86a9c34d6419d811949c?renderMode=0&amp;uiState=6468ebfb9c20896398f33cc8</p>"},{"location":"hardware/FAQ/","title":"Frequently Asked Questions","text":""},{"location":"hardware/FAQ/#please-note-these-are-mostly-placeholders-at-this-time-they-will-be-filled-in-in-due-course-if-you-can-help-with-text-or-want-to-suggest-other-topics-please-do-so-in-the-discourse","title":"Please note - these are mostly placeholders at this time; they will be filled in in due course. If you can help with text, or want to suggest other topics, please do so in the Discourse.","text":"<ul> <li>Help! I need to speak to someone!</li> <li>AGIO<ul> <li>UDP</li> <li>RTK/NTRIP corrections</li> <li>Serial/COM ports</li> <li>AgIO and AgOpenGPS - networking</li> </ul> </li> <li>AgOpenGPS<ul> <li>Is AGIO running? AgIO?</li> </ul> </li> <li>U-blox F9P<ul> <li>Firmware and configuration fails (TODO: Link)</li> <li>VTG? (TODO: Link)</li> <li>Baud rates? (TODO: Link)</li> <li>U-Center? (TODO: Link)</li> </ul> </li> <li>Teensy 4.1<ul> <li>Swapping GPS ports</li> </ul> </li> <li>PCB<ul> <li>PCBv2 (TODO: Link)</li> <li>PANDA (TODO: Link)</li> <li>$PANDA ? (TODO: Link)</li> <li>$PAOGI ? (TODO: Link)</li> <li>All-in-one boards (TODO: Link)</li> <li>Standard board (TODO: Link)</li> <li>Micro board (TODO: Link)</li> <li>The CANBUS board (aka \"CommonRail's board\")</li> </ul> </li> </ul>"},{"location":"hardware/FAQ/help-i-need-to-speak-to-someone/","title":"Help! I need to speak to someone!","text":"<p>Before you look for help either on Discourse, please check this wiki itself, the information here will be kept as up to date as possible. It's under construction, but in time, it should hopefully become the go-to resource for all issues.</p> <p>In other words.. the problem you're having has likely been encountered by someone already, so it could be in the FAQ section or the \"Problems and Solution\" section. There's a search at the top too.</p> <p>If you're really stuck, or just fancy a chat, then there's a great community of people willing to help you, You can join the Discourse forum below, but before we get into that:</p>"},{"location":"hardware/FAQ/help-i-need-to-speak-to-someone/#how-to-ask-for-help","title":"How to ask for help","text":"<p>If you do need to ask for help, make your question as descriptive as possible. Remember, most people's equipment and experiences are different, so assuming \"someone will just know what I mean\" can lead to frustration and put people off getting involved. Samples ensue...</p> <p>The wrong way to ask for help</p> <ul> <li>I built my board and it's not working, help!!</li> <li>I turned it on and there's a red light, am not sure what to check</li> <li>I wired it all up, and the tractor isn't steering</li> </ul> <p>The right way</p> <ul> <li>I built the new Micro all-in-one board, it was assembled at JLCPCB. The following components were missing (list them). I've followed the wiring guide and believe it to be correct. When I plug it in to 12V, the green light illuminates, but when I press the MA button on the Cytron, the motor doesn't turn the steering wheel, but my multimeter shows 12V out on the Cytron. AgOpenGPS is detecting the board, but it won't steer the tractor. Here's a photo of my board, can anyone advise?</li> </ul> <p>Remember, when asking for help, there's no such thing as \"too much information\". But there sure is \"too little!\".</p> <p>Anyway, Discourse:</p> <p>https://discourse.agopengps.com</p> <p>If your phone has an awesome message tone, join the Telegram group here:</p> <p>https://t.me/agopengpsinternational</p>"},{"location":"hardware/FAQ/is-agio-running-agio/","title":"Is AGIO running? AgIO?","text":"<p>If you get this message:</p> <p></p> <p>It means one of the following: * AGIO isn't running - ensure it is started by pressing the green button next to the arrow * if it is running, but you're still getting that message, ensure AGIO is talking to your steering board   * this could mean checking your network settings - see here * it could also mean AGIO is running, and your computer is talking to it - but it can't find a valid location. Ensure your antennas are outside and have a clear view of the sky</p> <p>Remember, this message doesn't just mean \"is AGIO running?\". What it really means is \"I don't know where in the world I am\" and as above, that could be for a number of reasons.</p>"},{"location":"hardware/FAQ/rtk-ntrip-corrections/","title":"RTK/NTRIP corrections","text":"<p>RTK works by receiving a correction signal from a nearby base station, that can see the same satellites as your machine. As the base is at a fixed location, it's able to correct for the difference induced by atmospheric delays as the signal makes its way down from the satellite to your rover.</p> <p>At a high level, you can think of it as being a hint for your machine: \"the satellites say I'm here, but that's approximate; the nearby base says I'm actually offset 32.2cm over there instead so take that into account when you're working out my position\"</p>"},{"location":"hardware/FAQ/serial-com-ports/","title":"Serial/COM ports","text":"<p>Serial (aka \"COM\") ports are an old and simple way of having two pieces of physical hardware talk to each other. You may have heard the term RS232 and that's typically what we're looking at here.</p> <p>An actual COM port is pretty hard to come by on modern hardware, having been largely superseded by USB - but when you plug an Arduino or Teensy via USB into your computer, it will still start what's known as a \"virtual COM port\" so it can talk to your computer.</p> <p>USB ports aren't ideal for connecting in the tractor, as the vibration and such can cause them to come loose resulting in your losing connection temporarily. You may even have to go into AGIO to restart the communication process when the connection resumes. As a result, if you're building a board, udp is the preferred connection method.</p> <p>Not to say that serial/COM ports are completely useless, but in the future, support for them in AOG may be dropped.</p>"},{"location":"hardware/FAQ/swapping-gps-ports/","title":"Swapping GPS ports","text":"<p>If you're seeing this message via the serial monitor on your Teensy, it means that for whatever reason, your Teensy hasn't been able to find or get valid info from the ublox chips. Review the flashing process here and ensure the correct config files are loaded.</p>"},{"location":"hardware/FAQ/udp/","title":"UDP","text":"<p>UDP is the network protocol that is used to pass data between AgIO, AgOpenGPS and your physical board. It uses standard ethernet cables and it highly resilient to interruption (unlike USB which can get upset if the connection drops/reconnects).</p> <p>Your tablet and your board will need to have the usual ethernet style connections you see around the house (in your router, back of your smart TV etc), similar to this:</p> <p></p> <p>You can think of UDP akin to passing a message to a friend via postcard; it's not secure in that anyone can read it, and you've no way of knowing if it was delivered. For AOG purposes, this is ideal; the data doesn't leave your machine, so security isn't much of a worry, and having any app on the system able to read it is a good thing.</p>"},{"location":"hardware/assemblingtheboard/","title":"Assembling the board","text":""},{"location":"hardware/assemblingtheboard/#pcb-configuration","title":"PCB CONFIGURATION","text":"<p>1.- 12v or 24v Motor  </p> <p>2.- Motor or Valves (Jumper configuration) </p> <p>3.- F9P slot in single mode  </p>"},{"location":"hardware/assemblingtheboard/Reading-LEDs/","title":"LED's","text":"<ol> <li>Reading LED indicators</li> </ol> Led Color Description PWR/ETH RED Power On PWR/ETH GREEN Ethernet Active GPS/RTK N/A GPS is not detected if present and blinks try configure GPS/RTK RED GPS ON, NO RTK GPS/RTK GREEN GPS ON, RTK ON AS / ACT RED Steer Module connected and enabled; steer switch is off AS / ACT GREEN Steer connected and steer switch enabled it"},{"location":"hardware/assemblingtheboard/components-you-can-do-without/","title":"Components you can do without","text":"<p>TODO: If you're not going CANbus, you can do without these.</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/","title":"Electrical testing and validation","text":""},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#tools-needed","title":"Tools needed:","text":"<ul> <li>Multimeter as you want to measure that all the different 5V circuits are actually 5V and not 12V</li> <li>A laboratory power supply (30V 5A will do)</li> <li>easyEDA (as it's the easiest to read the board and traces there)</li> </ul>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#checking-the-main-power-rails","title":"Checking the main power rails","text":"<p>With the help of the labor supply we can do: Connect the 2 leads together and minimize the amperes by configuring the ma A limit. Feel free to set this as 0.05A or so to start with. Then start with a low voltage (3V) and you should see pretty much no power draw. Then going above 4 and 6V you should start to see moderate power draw as the board is energized. This is the point where you want to increase the A limit. Please note that the board with GPS installed will take about 2,5W of power that's 0.2A on 12V. If the motor is connected you might need 3A to operate the motor as well.</p> <p>Minimum voltage and A check for shorts. Then increase the Voltage and check if the voltage on the points are correct (and feel free to go all the way up to 14-15V as that's the max we can experience in the tractors) Add the components then test them again for no excessive power draw.</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#_1","title":"Electrical testing and validation","text":""},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#if-youre-looking-for-a-detailed-guide-on-how-to-check-pcb41-look-here-httpsdiscourseagopengpscomtpcbv4-1-build-and-test137221","title":"If you're looking for a detailed guide on how to check PCB4.1, look here: https://discourse.agopengps.com/t/pcbv4-1-build-and-test/13722/1","text":"<p>We have different regulators on the different boards, check accordingly. * WAS -&gt; 5V check for the WAS 5V rightmost visible pin on the ampseal from the back.</p> <p>Micro: Check for 3.3V and 5V on the circled pins, compare them to a grounding point. (New boards will have LED-s to assist) Except teensy it should be 3.3V</p> <p></p> <p>ADS pin should be 5V as well</p> <p></p> <p>Standard:</p> <p>Check for the following voltages: * WAS -&gt; 5V check for the WAS 5V rightmost visible pin on the ampseal from the back. * 5V regulators for the GPS / Teensy / ADS / can</p> <p>TODO more info on this, but here is a great guide on how to test your PCB before blowing anything expensive up:</p> <p>https://discourse.agopengps.com/t/all-in-one-pcb/10444/233</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#avoid-damaging-your-computer","title":"Avoid damaging your computer","text":"<p>NOTE: you should NEVER have your board connected over USB and powered up over 12V at the same time! There is risk of damage to your USB port if you do.</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#option-1-unplug","title":"Option 1 unplug","text":"<p>Unplug the Teensy from the board whenever you send new code to it, but that means you can't safely live-diagnose the board over USB while it's powered up.</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#option-2-cut","title":"Option 2 cut","text":"<p>Cut the trace on the underside of the Teensy, so that way you have the ability to diagnose any Teensy issues over USB safely while the board is powered over 12V:</p> <p></p> <p>The downside of that is you'll need to remake the joint if you want to power the Teensy only over USB again.</p>"},{"location":"hardware/assemblingtheboard/electrical-testing-and-validation/#option-3-usb-isolator","title":"Option 3 USB isolator","text":""},{"location":"hardware/networking/","title":"Index","text":""},{"location":"hardware/networking/#message-formats","title":"Message formats","text":"<p>PGNs are described here: https://github.com/AgHardware/Boards/blob/main/PGN.md</p> <p>Based on the PGNs one can create modules for the Steering, GPS, Machine, IMU, etc.</p> <p>There's a detailed guide on ethernet configuration here</p> <p>If you are debugging in Wireshark, there's a work-in-progress protocol decoder available here: https://github.com/lansalot/AgOpenGPS-Tools/tree/main/Network%20Analysis</p> <p></p> <p>Just download and save in your Wireshark plugins folder (not any subfolders, eg 4.0). Please report any issues either on that AgOpenGPS-Tools repo, or to andyinv on the forums or Telegram.</p>"},{"location":"software/01.-What-is-AgOpenGPS/","title":"What is AgOpenGPS?","text":""},{"location":"software/01.-What-is-AgOpenGPS/#agopengps","title":"AgOpenGPS","text":"<p>AgOpenGPS is an open source windows program that can be used in cab for autosteer, guidance, section control, and many other features that are typically found in expensive name brand precision agriculture companies. The difference is there are even more forward thinking features built in to this program and yet more in development. And these are built by farmers for farmers!</p> <p>This program was first written by Brian Tischler who made it available to all who are interested in learning more about coding and electronics and how they can benefit farmers all over the world.</p> <p>We don't want anyone to get hurt or sued so below you'll find a disclaimer. If you choose to install this stuff on your Ag. Equipment, do so at your own risk.</p>"},{"location":"software/01.-What-is-AgOpenGPS/#what-hardware-is-required","title":"What hardware is required?","text":"<p>To get a basic system for Autosteer you need the following things:</p> <ul> <li>A Windows tablet (Panasonic, Dell or some) - this is all you need if you only want to try the capabilities of the software.</li> <li>Build the required hardware to steer download here</li> <li>GNSS Device that sends out NMEA0183 strings via either USB or ethernet UDP to the tablet</li> </ul>"},{"location":"software/01.-What-is-AgOpenGPS/#disclaimer","title":"Disclaimer","text":"<ul> <li>Important *</li> </ul> <p>This software is for discussion and learning of Precision Ag algorithms and techniques. It is not in any way to be used on any physical equipment and is meant for use by a simulator only.</p> <p>Any use of AgOpenGPS on real physical equipment is not allowed and is not recommended in any way, neither off road or on road.</p> <p>It is completely unsafe and has no safety limits built in or implied.</p> <p>AgOpenGPS is strictly an example of C# programming for demonstration purposes only and shall not be used for any other purpose.</p> <p>Ag Precision Mapping and Section Control Software</p> <p>This software reads NMEA strings for the purpose of recording and mapping position information for Agricultural use. Also it has up to 16 Sections to control implements application of product preventing over-application.</p> <p>Included is an Installer with all the necessary files along with UDP, TCP/IP, and serial NMEA simulators.</p>"},{"location":"software/02.-Install-AgOpenGPS-and-AgIO/","title":"Installing and running AOG","text":"<p>There's a video here showing this process: https://www.youtube.com/watch?v=WiyDXU-lgrM</p> <p>Or you can follow this guide:</p> <p>Go to this Page for the latest Release: RELEASES</p> <p>Click on \"The Latest\"</p> <p></p> <p>Download the Zip File AgOpenGPS v5</p> <p></p> <p>Go to your downloads folder to find the zip, then right click and select unblock - this tells windows it is safe</p> <p></p> <p>Right click and select \"Extract\"</p> <p></p> <p>Put the folder on your desktop (Or anywhere you wish) and extract</p> <p></p> <p>This is the folder of files. You need to Run AgOpenGPS.exe so double click on it. You can make a shortcut to it on your desktop - no installation required.</p> <p></p> <p>Read and agree to the terms - or not</p> <p></p> <p>If you see AgIO and AgOpenGPS - you are good. </p> <p></p> <p>AgOpenGPS and AgIO can be run independently as well. There are icons to start the other if not running.</p>"},{"location":"software/03.-AgIO-Orientation/","title":"AgIO Orientation","text":""},{"location":"software/03.-AgIO-Orientation/#normal-display","title":"Normal Display","text":"<ol> <li> <p>RTK information area</p> </li> <li> <p>UDP networking area. Touch the icon to set up networking. If button is not green, a dialog will allow you to turn on UDP. Just touch the UDP button and hit ok. If you are and only if you are using Linux here is where you can change the loopback address. Here is a picture of the dialog that comes up.</p> </li> </ol> <p></p> <ol> <li> <p>Modules and Status. For each icon, touch and it brings up a dialog to connect to serial ports. When the icon is green it is communicating normally. If neither green or red, it has not been connected this session. If it is red, it was formerly talking, but has lost communication.  The little numbers beside GPS show data bytes from and to the antenna.</p> </li> <li> <p>Flyout button to see the full display of AgIO (explained below)</p> </li> <li> <p>Position information. Touch the icon for a dialog showing all the NMEA information.</p> </li> </ol> <p>At the bottom is the menu, the icon at the far right starts AgOpenGPS.</p>"},{"location":"software/03.-AgIO-Orientation/#full-display","title":"Full Display","text":"<ol> <li> <p>Show/Hide individual modules. If not using the particular module, touch X and hide it. Touch + to bring it back.</p> </li> <li> <p>RTK caster IP address and Mount. Also is packet bytes being sent.</p> </li> <li> <p>Information from steer module. shows the angle and the raw counts from the a/d convertor. Shows the action of the switch - it should change as you click the switches. Be patient, it only updates 1 time per second.</p> </li> <li> <p>Shows what the machine module is receiving for section on-off. If these don't change to 1 as sections turn on there is a problem.</p> </li> <li> <p>RTK parsing. This works ok but don't rely on it if a particular sentence isn't showing up. RTK is very complex and this shows a rough estimation of the station ID and sentences found, as well as how many per 10 seconds.</p> </li> <li> <p>Touch this icon to shut down Windows and the computer power.</p> </li> <li> <p>Creates a log of incoming sentences. The log is created in the main AgOpenGPS folder. </p> </li> <li> <p>Normally this extended view of AgIO is open for 3 minutes, then it shrinks to the small view, then after 3 minutes, minimizes to the taskbar. You can reset the 3 minutes by touching this icon.</p> </li> </ol> <p>You can hide the full display by touching the blue arrow again, or just minimize to tray at the top. </p>"},{"location":"software/03.-AgIO-Orientation/#ethernet-udp-setup-dialog","title":"Ethernet (UDP) Setup Dialog","text":"<ol> <li> <p>Hostname is the name given to your computer for networking. It must be unique on the network.</p> </li> <li> <p>List of all the network adapters (NIC) (network card) (bunch of different names) in your computer. It shows the IP address of the adapter, the name/type, and updates the packets sent and received through it.</p> </li> <li> <p>You can filter out the adapters that are connected and talking, or all the adapters no matter the status of the connection.</p> </li> <li> <p>Assuming you have modules connected and working they will show up here. It lists the IP address for each module if connected as well as the connection status on the far right. This is the same green as on the main display showing it is connected. Not green or red means it never connected in the first place.</p> </li> <li> <p>Subnet. This is the subnet of the network adapter that sent a message to all the modules connected. This will be the main subnet for AgIO, each module, and the network adapter. Everything must be on the same subnet or it will not work. Touch the \"fill in\" button to automatically fill in #6. You don't have to, but is convenient.</p> </li> <li> <p>This is where you can manually enter and send a new subnet. </p> </li> <li> <p>This brings up the Windows Network Management App from Control Panel.</p> </li> <li> <p>This is the current subnet set in AgIO.</p> </li> </ol> <p>9. 10.</p> <ol> <li> <p>Set Subnet. This button sets the subnet address for AgIO and sends it also to the modules. After doing so, the indicators in the scanning box should go green.  </p> </li> <li> <p>Return back to main AgIO display.</p> </li> </ol>"},{"location":"software/03.-AgIO-Orientation/#serial-connections","title":"Serial Connections","text":"<ol> <li> <p>Select the serial com port, the correct baud rate, and touch the green connect button to connect to a serial GPS unit.</p> </li> <li> <p>If using RTK via a serial or USB port, connect here</p> </li> <li> <p>Module connections are done here. Plug in one at a time so you know which is which, then connect.</p> </li> <li> <p>If you have connected and additional USP Com Port, touch here to add it to the list of choices when connecting.</p> </li> </ol>"},{"location":"software/03.-AgIO-Orientation/#rtk","title":"RTK","text":"<ol> <li> <p>Turn on or off NTRIP.</p> </li> <li> <p>This is your computer name along with all active networks.</p> </li> <li> <p>Enter either the IP or URL name of your caster website</p> </li> <li> <p>Touch verify to make sure it is a real and accessible site. The IP will be displayed. Sometimes they change.</p> </li> <li> <p>Enter your Caster Username and Password here</p> </li> <li> <p>Touching Get Source Table will bring up alist of all the available mounts for that caster. Your job to pick the right one.</p> </li> <li> <p>This is the port the caster will send on, usually 2101 is correct and is the default.</p> </li> </ol> <p></p> <ol> <li> <p>Enter the current fix manually. Also select manual or just to use GPS Fix</p> </li> <li> <p>Use the current GPS Fix to fill in the Manual Fix entry. Saves a lot of typing.</p> </li> <li> <p>How are you sending RTK? Select serial or UDP and the port to send to. If using one but not the other, turn off the one you are not using. (most often is the case).</p> </li> <li> <p>GGA Interval is how often a GGA sentence gets sent back to the caster. More often uses more data. And set to 0 if you want it off completely to not send at all.</p> </li> </ol>"},{"location":"software/03.-AgIO-Orientation/#menus","title":"Menus","text":"<ol> <li> <p>Save Profile - Save all the settings in AgIO including RTK settings.</p> </li> <li> <p>Load Profile - means to load an existing previously saved.</p> </li> <li> <p>UDP Monitor - Allows you to view UDP packets leaving and coming into AgIO. PGN's, NTRIP, as well as nmea strings.</p> </li> <li> <p>Serial Monitor - Connect to any serial port and monitor its activity. Very useful to connect to a module that is running on UDP. </p> </li> <li> <p>Ethernet Setup - Brings up the dialog to turn on - off udp. Only change the loopback address if using Linux or know exactly why it would ever be changed. Any other loopback settings for Windows do not work. </p> </li> <li> <p>Device Manager - Runs the Applet from Windows Control panel of all the devices hardware.</p> </li> </ol> <p></p> <ol> <li> <p>NTRIP from the internet - all the settings associated like caster address, mount, user and password etc.</p> </li> <li> <p>NTRIP via Radio - Brings up a dialog to configure special RTK radio systems.</p> </li> <li> <p>NTRIP via Serial - Dialog for RTK via serial input like from a phone USB, or external radio with serial output.</p> </li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/","title":"AgOpenGPS Orientation","text":""},{"location":"software/04.-AgOpenGPS-Orientation/#main-menu","title":"Main Menu","text":""},{"location":"software/04.-AgOpenGPS-Orientation/#display-option","title":"Display Option","text":"<p>If (10) is consistently below 10 (and especially if it's at 1), you may have your ublox set incorrectly.</p>"},{"location":"software/04.-AgOpenGPS-Orientation/#main-configuration","title":"Main Configuration","text":"<ol> <li>Vehicle Configuration</li> </ol> <ol> <li>Vehicle Dimensions</li> </ol> <ol> <li>Antenna Configuration</li> </ol> <ol> <li>Steer Options</li> </ol> <ol> <li>Implement Configuration</li> </ol> <ol> <li>Attachment Configuration</li> </ol> <ol> <li> <p>Sections TODO</p> </li> <li> <p>Attachment Options</p> </li> </ol> <p></p> <p>For (1), top to bottom, they are: - Time to turn on the section early before getting to the unapplied area (for start of row) - Time to shut sections off, before getting to the applied region (for end of row) - Time to keep going after applied area says they should turn off</p> <ol> <li>Work Switch Configuration</li> </ol> <p></p> <p>If Work switch is enabled, then choose if you'd like to have it engage manual or auto-sections. Similar for Steer switch.</p> <p>Toggle at the bottom is for if you want \"work\" to be counted when the work switch is on, or off.</p> <ol> <li> <p>Sources Configuration TODO</p> </li> <li> <p>Roll Configuration</p> </li> </ol> <p></p> <ol> <li>U-Turn Configuration</li> </ol> <p></p> <p>(1) the radius you can comfortably make a turn in, without binding the machine/drawbar/tractor/PTO etc</p> <ol> <li>Arduino Machine Module Configuration</li> </ol> <p></p> <ol> <li>Pin Configuration</li> </ol> <p>15 Tram Lines Configuration.</p> <p></p> <ol> <li>Icons and Sounds Configurations.</li> </ol> <p></p>"},{"location":"software/04.-AgOpenGPS-Orientation/#utilities","title":"Utilities","text":"<ol> <li>Steer Setup Wizard</li> </ol> <ol> <li>Charts</li> </ol> <ol> <li>Smooth AB Curve - takes out the noise</li> </ol> <ol> <li>Delete Contour Paths</li> </ol> <ol> <li>Delete Applied Area</li> </ol> <ol> <li>Webcam</li> </ol> <ol> <li>Offset Fix</li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/#field-menu-button","title":"Field Menu Button","text":"<ol> <li>Start New or Open Fields</li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/#field-menu-field-open","title":"Field Menu - Field Open","text":"<ol> <li>Field </li> </ol> <ol> <li>Boundary </li> </ol> <ol> <li>Headland</li> </ol> <ol> <li>Tramlines</li> </ol> <ol> <li>Boundary Contours</li> </ol> <ol> <li>Recorded Path</li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/#steer-configuration","title":"Steer Configuration","text":"<ol> <li>Steer Settings</li> </ol> <ol> <li>Gain Configuration</li> </ol> <ol> <li>Stanley Settings</li> </ol> <ol> <li>Pure Pursuit Settings</li> </ol> <ol> <li>Drive and Test</li> </ol> <ol> <li>Steer Module Configuration</li> </ol> <ol> <li>Steer Mode</li> </ol> <ol> <li>Steer Indicator</li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/#field-open-main-display","title":"Field Open Main Display","text":"<ol> <li>Right Side</li> </ol> <ol> <li>Functions for AB Line Selected</li> </ol> <ol> <li>Flags</li> </ol> <ol> <li>Version / Section Paint Color</li> </ol> <ol> <li>Color Setting</li> </ol>"},{"location":"software/04.-AgOpenGPS-Orientation/#guidance-lines","title":"Guidance Lines","text":"<ol> <li>AB Line</li> </ol> <ol> <li>Autosteer Control</li> </ol> <ol> <li>U-Turn Control</li> </ol> <ol> <li>Create AB Line or Curve</li> </ol> <ol> <li>Create AB Line</li> </ol> <ol> <li>Create Curve</li> </ol> <ol> <li>Contour</li> </ol> <ol> <li>Snap to Pivot</li> </ol> <ol> <li>AB Line Edit</li> </ol> <ol> <li>U-Turn Skips</li> </ol> <ol> <li>Headland Control Buttons</li> </ol>"},{"location":"software/05.-Ethernet-Setup/","title":"Ethernet Setup","text":"<p>Ethernet setup requires a hardwired connection from your computer to the module. If you have more then one module to connect to you need an ethernet switch as well - like a powerbar for networking. You cannot run more then 1 adapter on a subnet. </p> <p>Watch YouTube Video on Setting Ethernet</p> <ol> <li> <p>You need to decide on your subnet. The subnet is like a telephone area code. It allows the same phone numbers in many other area codes and groups them. If you don't already know what your subnet is or should be, just use 192.168.5. The subnet mask is 255.255.255.0 meaning there is 255 possible addresses in the \"area\" of 192.168.5</p> </li> <li> <p>Make sure your ethernet cable is connected to the module and everything is powered on. </p> </li> </ol> <p></p> <ol> <li>Easy way to do this. At the bottom right touch the networking icon (could be wifi or wired icon) to bring up the networking summary. Now touch the network connection attached to your modules. </li> </ol> <p></p> <ol> <li>Touch the network adapter you want to edit</li> </ol> <p></p> <ol> <li>Touch Edit</li> </ol> <p></p> <ol> <li> <p>On the pulldown list select Manual. Turn on IPv4. </p> </li> <li> <p>Enter the full IP address that is your subnet and an unused IP. 192.168.5.10 in this case. You can of course enter any subnet you wish, although there are a few restrictions like 127... and 255.... </p> </li> <li> <p>Enter the subnet prefix length. 24 is 24bits of mask which is the same as typing in 255.255.255.0 - but is much shorter. Enter 24.</p> </li> <li> <p>Enter a gateway - it isn't needed but something has to be there so enter subnet + 1. 192.168.5.1.</p> </li> <li> <p>Be sure IPv6 is off. Touch Save. </p> </li> </ol> <p></p> <ol> <li>Touch this icon and it will bring up Ethernet Dialog as below:</li> </ol> <p></p> <ol> <li>Touch UDP On so it is green, touch OK. Don't change loopback unless you know exactly why you are for Linux. AgIO restarts and the ethernet should be green. </li> </ol> <p></p> <ol> <li>Here you can see my active networks, a wifi connection 192.168.1.220 and our wired ethernet AgIO connection 192.168.5.10. Now touch the ethernet config button again to start the scanner and Subnet dialog. </li> </ol> <p></p> <ol> <li> <p>Here you can see our Ethernet adaptor 192.168.5.10 is up (connected and talking), the module address and status as talking, and the current subnet from the modules matches the subnet of the adapter. Everything is good. </p> </li> <li> <p>Now let us really mess it up. I will change the module subnet to 5.168.5 and the AgIO subnet to 12.168.5 and we will fix it. </p> </li> </ol> <p></p> <ol> <li>Nothing works and everything is red and all is wrong. But since our network adapter we did first was set to 192.168.5 we know that is what everything needs to be. The arrow points to Fill In and Subnet. The scanning shows the incorrect module subnet (5) and also the current subnet (12) are wrong. So all we need to do is touch the Fill in Button to load up the correct subnet from the adapter and hit the Set button.</li> </ol> <p></p> <ol> <li>Now touch the Set button and give it a few seconds - and it should all work. </li> </ol> <p></p> <ol> <li>And it does. You can see the subnet that AgIO and the modules use matches the one we set in the Network adapter setup. Again, always set the adapter first! </li> </ol> <p></p> <ol> <li>Touching the Network Properties icon brings up the old school network applet from control panel. This is another way to set the subnet etc - the long way. You are done if you did as above. </li> </ol> <p></p> <ol> <li>Touch your network icon connected to your modules. </li> </ol> <p></p> <ol> <li> <p>Touch Properties, then scroll down and select \"Internet Protocol Version 4 (TCPIP/IPv4) - but don't uncheck it accidentally.</p> </li> <li> <p>Touch \"Use the Following IP Address\" Radio button, put in the IP Address 192.168.5.10, the mask, except instead of 24 for mask you have to put in the full 255.255.255.0. , and the Gateway 192.168.5.1. Now Touch ok, ok, Close. All done. The main AgIO should show the network, Ethernet scan should show all the rest.  </p> </li> </ol>"},{"location":"software/05.-Ethernet-Setup/#does-your-wifi-drop-when-you-connect-to-agio","title":"Does your wifi drop when you connect to AGIO?","text":"<p>If so, that can be because Windows is prioritising the physical connection over the wifi and disabling it. In the case of AgOpenGPS, we need both. If you find that is happening, you may need a small registry fix to prevent that. You can download the file here, double-click it to import to registry, or make the change yourself as guided here</p>"},{"location":"software/06.-RTK-Setup/","title":"RTK Setup","text":""},{"location":"software/06.-RTK-Setup/#rtk-client-setup","title":"RTK Client Setup","text":"<ol> <li>Start by opening the dialog for Client RTK</li> </ol> <ol> <li>If it isn't already on, make sure NTRIP is green and on.</li> </ol> <ol> <li>Begin entering your caster information</li> </ol> <ol> <li>Enter information</li> </ol> <p>(1) Enter either the IP or the URL of your caster connection. </p> <p>(2) Touch Verify to make sure you can connect.</p> <p>(3) Enter your Username and Password. Click the little eye to show the hidden characters. (If you're using rtk2go.com, enter a valid email address in username field or it won't work)</p> <p>(4) Touch Get Source Table to bring up the list of mounts. </p> <p>(5) Enter in the caster port it sends to. This is usually 2101.</p> <p></p> <p>(6) Touch the Position Tab</p> <p>(7) Enter in your Fix position either manually fixed or provided by the GPS Fix position.</p> <p>(8) Both send to Serial and UDP are on by default. Turn off the one you don't use. UDP port is normally 2233 for All In One Teensy board and most designs.</p> <p>(9) Set how often in seconds the GGA data should be sent to caster. Set to 0 to turn off completely.</p> <ol> <li> <p>Touch OK.</p> </li> <li> <p>Back to AgIO Main Display</p> </li> </ol> <p></p> <ol> <li>There are many places to show you lots of information about RTK connection and data. On the far right side is a sentence grouper that works ok most of the time. If you require exacting information, use other software to analyze what is contained in the RTK stream. AgIO provides a simple guide. </li> </ol>"},{"location":"software/06.-RTK-Setup/#serial-setup","title":"Serial Setup","text":"<ol> <li>Choose Serial NTRIP from the NTRIP Menu</li> </ol> <ol> <li>Make sure Serial NTRIP is green. If turning it on, AgIO will reset.</li> </ol> <ol> <li> <p>Choose the com port that the RTK is coming in on. Set also the correct baud rate. Touch connect.</p> </li> <li> <p>Decide how the RTK is getting to the GPS receiver - either by serial connection or by UDP. Also set the correct port if using UDP.</p> </li> <li> <p>Touch OK. </p> </li> </ol>"},{"location":"software/07.-UDP-Monitor/","title":"UDP Monitor","text":"<ol> <li> <p>Clear Screen</p> </li> <li> <p>Save to UDP log in main program directory.</p> </li> <li> <p>Show/Hide all NTRIP Traffic</p> </li> <li> <p>Show/Hide NMEA traffic</p> </li> <li> <p>Start/Stop logging of all UDP traffic.</p> </li> <li> <p>Exit</p> </li> </ol>"},{"location":"software/08.-Serial-Monitor/","title":"Serial Monitor","text":"<ol> <li> <p>Connect to any USB com port and see what is happening. Use 115200 Baud for Teensy and 38400 for Arduino.</p> </li> <li> <p>If you touch the \"Log\" button - it will show you the incoming NMEA sentence data to AgIO.</p> </li> <li> <p>You can save what was displayed to a log file zAgIO_SerialMon_log.txt saved in the main program folder.</p> </li> <li> <p>Touch the Garbage can to delete the window contents.</p> </li> <li> <p>Help. Brings up this page in the Wiki.</p> </li> <li> <p>If the Ethernet Setup dialog is open, and the Serial Monitor, and you are connected to the Nano USB of the steer module, you will be able to see a few diagnostic items like IP and Subnet, ADS1115 count value, Current A/D Value, and the Switch Byte. It gets updated every 2 seconds as the Scan is sent to the module. </p> </li> </ol> <p></p>"},{"location":"software/ChangeLog/","title":"Changes, from version to version","text":""},{"location":"software/ChangeLog/#63-29-march-2024","title":"6.3 - 29 March, 2024","text":"<pre><code>Field \u201cFrom Existing\u201d the sort order messed up if choosing area\nField Menu \u201cCancel\u201d just cancels now and doesn\u2019t turn off steer etc\nXTE averaging limited to 10 cm and resets quickly\nGrid size is based on tool width, and as zooming out, is multiples and shows # of reps\nSteer Settings - If using Pure Pursuit, hide Stanley settings and vice versa\nAuto Trak selects lines at a faster rate and angle forgiveness\nFix Skip Line text\nNav Panel button for grid rotation to align to field\nFix AutoSnap for remote\nRemove Min Radius from Vehicle settings - not used\nMin autosteer speed sent to steer module - used to send 0.5\nHelp directed to youtube channel\nBoundary Tool Gui is more intuitive\nClean up the gui for boundary Bing draw\nGPS Info button move focus to retain colour\nMove steer settings from Config to steer form\nAdd string of points to Bnd Tool Points to fill gaps\nIntegral default set to 0\nRoll corrected position sent to GPS_OUT\nGPS_Out updated\nPing Timer added to extended AgIO\nSave As vehicle name refresh in Config\nRecorded PAth name add time date after save\nSkyTraq add 035 to 032 nmea parse\nUpdate AgIO and AOG to v6.3\nAnd a bunch of little things.\n</code></pre>"},{"location":"software/FAQ/","title":"Frequently asked questions / problems and solutions","text":""},{"location":"software/FAQ/#agopengps","title":"AgOpenGPS","text":"<ul> <li>When running, my machine position shakes even when I'm not moving</li> <li>Check that your F9P is updated correctly here</li> <li>Check that it's outputting at the right resolution/frequency (figure at the bottom showing 10 - if it's one, configure F9P properly) </li> <li>Ensure the antennas have a good view of the sky and that NTRIP is enabled and sending corrections over UDP (or serial, if using USB) </li> <li>If using UDP, do NOT have USB connected at the same time. UDP is preferred, so disconnect all USB connections </li> </ul>"}]}